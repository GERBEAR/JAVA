/* 
    AddThisEvent v1.5.8 <http://addthisevent.com>
    Copyright (c) 2012-2014 Michael Nilsson
    */

define("libs/add-this-event",[],function(){function $d(e){return document.getElementById(e)}var _image_path="http://addthisevent.com/gfx/icon-calendar-t1.png",_ate_license="",_ate_mouse=!1,_ate_css="true",_ate_callback="",_ate_dropdown="",_ate_lbl_outlook="Outlook Calendar",_ate_lbl_google="Google Calendar",_ate_lbl_yahoo="Yahoo Calendar",_ate_lbl_hotmail="Hotmail Calendar",_ate_lbl_ical="iCal Calendar",_ate_lbl_fb_event="Facebook Event",_ate_show_outlook=!0,_ate_show_google=!0,_ate_show_yahoo=!0,_ate_show_hotmail=!0,_ate_show_ical=!0,_ate_show_facebook=!0,_d_rd=!1,addthisevent=function(){var C=!1,dropzind=999999,dropzcx=1,olddrop="",dropmousetim,css1=!1,css2=!1;return{generate:function(){try{_image_path=_image_path}catch(e){_image_path="http://addthisevent.com/gfx/icon-calendar-t1.png"}try{_ate_license=_license}catch(e){}try{_ate_mouse=_mouse}catch(e){}try{_ate_css=_css}catch(e){}var t=addthisevent.glicense(_ate_license),n=document.getElementsByTagName("*");for(var r=0;r<n.length;r+=1){var i="",s=!1,o=n[r].className,u="";if(o=="addthisevent"){var a=n[r].getElementsByTagName("span");for(var f=0;f<a.length;f+=1){a[f].className=="_url"&&(a[f].style.display="none"),a[f].className=="_start"&&(a[f].style.display="none",i+="&dstart="+encodeURIComponent(a[f].innerHTML)),a[f].className=="_end"&&(a[f].style.display="none",i+="&dend="+encodeURIComponent(a[f].innerHTML)),a[f].className=="_zonecode"&&(a[f].style.display="none",i+="&dzone="+encodeURIComponent(a[f].innerHTML)),a[f].className=="_summary"&&(a[f].style.display="none",i+="&dsum="+encodeURIComponent(a[f].innerHTML)),a[f].className=="_description"&&(a[f].style.display="none",i+="&ddesc="+encodeURIComponent(a[f].innerHTML)),a[f].className=="_location"&&(a[f].style.display="none",i+="&dloca="+encodeURIComponent(a[f].innerHTML)),a[f].className=="_organizer"&&(a[f].style.display="none",i+="&dorga="+encodeURIComponent(a[f].innerHTML)),a[f].className=="_organizer_email"&&(a[f].style.display="none",i+="&dorgaem="+encodeURIComponent(a[f].innerHTML)),a[f].className=="_attendees"&&(a[f].style.display="none",i+="&datte="+encodeURIComponent(a[f].innerHTML)),a[f].className=="_all_day_event"&&(a[f].style.display="none",i+="&dallday="+encodeURIComponent(a[f].innerHTML)),a[f].className=="_date_format"&&(a[f].style.display="none",i+="&dateformat="+encodeURIComponent(a[f].innerHTML)),a[f].className=="_alarm_reminder"&&(a[f].style.display="none",i+="&alarm="+encodeURIComponent(a[f].innerHTML)),a[f].className=="_recurring"&&(a[f].style.display="none",i+="&drule="+encodeURIComponent(a[f].innerHTML)),a[f].className=="_uid"&&(a[f].style.display="none",i+="&uid="+encodeURIComponent(a[f].innerHTML));if(a[f].className=="_facebook_event"&&a[f].innerHTML!=""){a[f].style.display="none";var l=a[f].innerHTML.replace(/ /gi,"");i+="&fbevent="+encodeURIComponent(l),s=!0}}t&&(i+="&credits=false"),i=i.replace(/'/gi,"Â´");if(_ate_dropdown!=""){_ate_dropdown+=",";var c=_ate_dropdown.split(",");for(var h=0;h<c.length;h+=1)_ate_show_outlook&&c[h]=="outlook"&&(u+='<span class="ateoutlook" data-ref="'+dropzcx+"\" onclick=\"addthisevent.cli(this,'outlook','"+i+"');\">"+_ate_lbl_outlook+"</span>"),_ate_show_google&&c[h]=="google"&&(u+='<span class="ategoogle" data-ref="'+dropzcx+"\" onclick=\"addthisevent.cli(this,'google','"+i+"');\">"+_ate_lbl_google+"</span>"),_ate_show_yahoo&&c[h]=="yahoo"&&(u+='<span class="ateyahoo" data-ref="'+dropzcx+"\" onclick=\"addthisevent.cli(this,'yahoo','"+i+"');\">"+_ate_lbl_yahoo+"</span>"),_ate_show_hotmail&&c[h]=="hotmail"&&(u+='<span class="atehotmail" data-ref="'+dropzcx+"\" onclick=\"addthisevent.cli(this,'hotmail','"+i+"');\">"+_ate_lbl_hotmail+"</span>"),_ate_show_ical&&c[h]=="ical"&&(u+='<span class="ateical" data-ref="'+dropzcx+"\" onclick=\"addthisevent.cli(this,'ical','"+i+"');\">"+_ate_lbl_ical+"</span>"),s&&c[h]=="facebook"&&_ate_show_facebook&&c[h]=="facebook"&&(u+='<span data-ref="'+dropzcx+"\" onclick=\"addthisevent.cli(this,'facebook','"+i+"');\">"+_ate_lbl_fb_event+"</span>")}else _ate_show_outlook&&(u+='<span class="ateoutlook" data-ref="'+dropzcx+"\" onclick=\"addthisevent.cli(this,'outlook','"+i+"');\">"+_ate_lbl_outlook+"</span>"),_ate_show_google&&(u+='<span class="ategoogle" data-ref="'+dropzcx+"\" onclick=\"addthisevent.cli(this,'google','"+i+"');\">"+_ate_lbl_google+"</span>"),_ate_show_yahoo&&(u+='<span class="ateyahoo" data-ref="'+dropzcx+"\" onclick=\"addthisevent.cli(this,'yahoo','"+i+"');\">"+_ate_lbl_yahoo+"</span>"),_ate_show_hotmail&&(u+='<span class="atehotmail" data-ref="'+dropzcx+"\" onclick=\"addthisevent.cli(this,'hotmail','"+i+"');\">"+_ate_lbl_hotmail+"</span>"),_ate_show_ical&&(u+='<span class="ateical" data-ref="'+dropzcx+"\" onclick=\"addthisevent.cli(this,'ical','"+i+"');\">"+_ate_lbl_ical+"</span>"),s&&_ate_show_facebook&&(u+='<span data-ref="'+dropzcx+"\" onclick=\"addthisevent.cli(this,'facebook','"+i+"');\">"+_ate_lbl_fb_event+"</span>");t||(u+='<em class="copyx"><em class="brx"></em><em class="frs" data-ref="'+dropzcx+'" onclick="addthisevent.cli(this,\'home\');">AddThisEvent</em></em>'),n[r].id="atedrop"+dropzcx,n[r].className="addthisevent-drop",n[r].title="";var p=n[r].getAttribute("data-direct");p?(n[r].setAttribute("data-url",i),n[r].setAttribute("data-ref",dropzcx),n[r].onclick=function(){return addthisevent.direct(this),!1}):_ate_mouse?(n[r].onmouseover=function(){clearTimeout(dropmousetim),addthisevent.show(this,"auto","auto",!0)},n[r].onmouseout=function(){dropmousetim=setTimeout(function(){addthisevent.out()},200)},n[r].onclick=function(){return!1}):n[r].onclick=function(){return addthisevent.show(this,"auto","auto"),!1};var d=n[r],v=document.createElement("span");v.id="atedrop"+dropzcx+"-drop",v.className="addthisevent_dropdown",v.innerHTML=u,d.appendChild(v),dropzcx++}}_ate_css=="false"?addthisevent.trycss():addthisevent.applycss(t)},direct:function(e){var t=e.getAttribute("data-url"),n=e.getAttribute("data-direct");addthisevent.cli(e,n,t)},cli:function(f,a,b){var c="",ref=location.href,nw=!0,now=new Date;a=="outlook"&&(c="http://generate.addthisevent.com/?service=OUTLOOK"+b+"&reference="+ref,nw=!1),a=="google"&&(c="http://generate.addthisevent.com/?service=GOOGLE"+b+"&reference="+ref),a=="yahoo"&&(c="http://generate.addthisevent.com/?service=YAHOO"+b+"&reference="+ref),a=="hotmail"&&(c="http://generate.addthisevent.com/?service=HOTMAIL"+b+"&reference="+ref),a=="ical"&&(c="http://generate.addthisevent.com/?service=ICAL"+b+"&reference="+ref,nw=!1),a=="facebook"&&(c="http://generate.addthisevent.com/?service=FACEBOOK"+b+"&reference="+ref),a=="home"&&(c="http://addthisevent.com/");if(c!=""){if(a!="home"){var d=f.getAttribute("data-ref"),g=$d("atedrop"+d);if(g){var h=g.getAttribute("data-track");if(h!=null){h=h.replace(/ate-calendar/gi,a);try{eval(h)}catch(e){}}}}nw?window.open(c):location.href=c}if(_ate_callback)for(var i=0;i<_ate_callback.length;i++)try{eval(_ate_callback[i])}catch(e){alert(e.description)}},applycss:function(e){if(!css2){var t;t=".addthisevent-drop {display:inline-block;position:relative;font-family:arial;color:#333!important;background:#f4f4f4 url("+_image_path+") no-repeat 9px 50%;text-decoration:none!important;border:1px solid #d9d9d9;color:#555;font-weight:bold;font-size:14px;text-decoration:none;padding:9px 12px 8px 35px;-moz-border-radius:2px;-webkit-border-radius:2px;}",t+=".addthisevent-drop:hover {border:1px solid #aab9d4;color:#555;font-weight:bold;font-size:14px;text-decoration:none!important;}",t+=".addthisevent-drop:active {top:1px;}",t+=".addthisevent-selected {background-color:#f7f7f7;}",e?t+=".addthisevent_dropdown {width:200px;position:absolute;z-index:99999;padding:0px 0px 0px 0px;background:#fff;text-align:left;display:none;margin-top:-2px;margin-left:-1px;border-top:1px solid #c8c8c8;border-right:1px solid #bebebe;border-bottom:1px solid #a8a8a8;border-left:1px solid #bebebe;-moz-border-radius:2px;-webkit-border-radius:2px;-webkit-box-shadow:1px 3px 6px rgba(0,0,0,0.15);-moz-box-shadow:1px 3px 6px rgba(0,0,0,0.15);box-shadow:1px 3px 6px rgba(0,0,0,0.15);}":t+=".addthisevent_dropdown {width:200px;position:absolute;z-index:99999;padding:6px 0px 0px 0px;background:#fff;text-align:left;display:none;margin-top:-2px;margin-left:-1px;border-top:1px solid #c8c8c8;border-right:1px solid #bebebe;border-bottom:1px solid #a8a8a8;border-left:1px solid #bebebe;-moz-border-radius:2px;-webkit-border-radius:2px;-webkit-box-shadow:1px 3px 6px rgba(0,0,0,0.15);-moz-box-shadow:1px 3px 6px rgba(0,0,0,0.15);box-shadow:1px 3px 6px rgba(0,0,0,0.15);}",t+=".addthisevent_dropdown span {width:175px;display:block;cursor:pointer;line-height:110%;background:#fff;text-decoration:none;font-size:12px;color:#6d84b4;padding:8px 10px 9px 15px;}",t+=".addthisevent_dropdown span:hover {background:#f4f4f4;color:#6d84b4;text-decoration:none;font-size:12px;}",t+=".addthisevent span {display:none!important;}",t+=".addthisevent-drop ._url,.addthisevent-drop ._start,.addthisevent-drop ._end,.addthisevent-drop ._zonecode,.addthisevent-drop ._summary,.addthisevent-drop ._description,.addthisevent-drop ._location,.addthisevent-drop ._organizer,.addthisevent-drop ._organizer_email,.addthisevent-drop ._facebook_event,.addthisevent-drop ._all_day_event {display:none!important;}",t+=".addthisevent_dropdown .copyx {width:200px;height:21px;display:block;position:relative;cursor:default;}",t+=".addthisevent_dropdown .brx {width:180px;height:1px;overflow:hidden;background:#e0e0e0;position:absolute;z-index:100;left:10px;top:9px;}",t+=".addthisevent_dropdown .frs {position:absolute;top:5px;cursor:pointer;right:10px;padding-left:10px;font-style:normal;font-weight:normal;text-align:right;z-index:101;line-height:110%;background:#fff;text-decoration:none;font-size:9px;color:#cacaca;}",t+=".addthisevent_dropdown .frs:hover {color:#6d84b4;}";var n=document.createElement("style");n.type="text/css",n.id="ate_css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(n),css2=!0}},trycss:function(){if(!css1){try{var e=".addthisevent {visibility:hidden;}";e+=".addthisevent-drop ._url,.addthisevent-drop ._start,.addthisevent-drop ._end,.addthisevent-drop ._zonecode,.addthisevent-drop ._summary,.addthisevent-drop ._description,.addthisevent-drop ._location,.addthisevent-drop ._organizer,.addthisevent-drop ._organizer_email,.addthisevent-drop ._attendees,.addthisevent-drop ._facebook_event,.addthisevent-drop ._all_day_event {display:none!important;}";var t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)}catch(n){}css1=!0}},removecss:function(){try{return(hdx=$d("ate_css"))?hdx.parentNode.removeChild(hdx):!1}catch(e){}},show:function(e,t,n,r){var i=e.id,s=$d(i),o=$d(i+"-drop");if(s&&o){olddrop!=i&&addthisevent.hide(olddrop);var u=addthisevent.getstyle(o,"display");try{e.blur()}catch(a){}if(u=="block")r||addthisevent.hide(i);else{olddrop=i,s.className="addthisevent-drop addthisevent-selected",s.style.zIndex=dropzind++,o.style.left="0px",o.style.top="0px",o.style.display="block",setTimeout(function(){addthisevent.tim()},50),C=!1;var f=parseInt(s.offsetHeight),l=parseInt(s.offsetWidth),c=parseInt(o.offsetHeight),h=parseInt(o.offsetWidth),p=addthisevent.viewport(),d=p.split("/"),v=parseInt(d[0]),m=parseInt(d[1]),g=parseInt(d[2]),y=parseInt(d[3]),b=addthisevent.elementposition(o),w=b.split("/"),E=parseInt(w[0]),S=parseInt(w[1]),x=S+c,T=m+y,N=E+h,k=v+g,L=0,A=0;t=="down"&&n=="left"?(L="0px",A=f+"px"):t=="up"&&n=="left"?(L="0px",A=-c+"px"):t=="down"&&n=="right"?(L=-(h-l)+"px",A=f+"px"):t=="up"&&n=="right"?(L=-(h-l)+"px",A=-c+"px"):t=="auto"&&n=="left"?(L="0px",x>T?A=-c+"px":A=f+"px"):t=="auto"&&n=="right"?(L=-(h-l)+"px",x>T?A=-c+"px":A=f+"px"):(x>T?A=-c+"px":A=f+"px",N>k?L=-(h-l)+"px":L="0px"),o.style.left=L,o.style.top=A,document.addEventListener?document.addEventListener("click",function(){addthisevent.force(i)},!1):document.attachEvent?document.attachEvent("onclick",function(){addthisevent.force(i)}):document.onclick=function(){addthisevent.force(i)}}}},force:function(e){var t=$d(e),n=$d(e+"-drop");t&&n&&C&&n.style.display=="block"&&setTimeout(function(){addthisevent.hide(e)},200)},out:function(){addthisevent.force(olddrop)},hide:function(e){var t=$d(e),n=$d(e+"-drop");t&&n&&(t.className="addthisevent-drop",n.style.display="none",n.style.zIndex="")},tim:function(){C=!0},viewport:function(){var e=0,t=0,n=0,r=0;return typeof window.innerWidth=="number"?(e=window.innerWidth,t=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(e=document.body.clientWidth,t=document.body.clientHeight),document.all?(r=document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,n=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop):(r=window.pageXOffset,n=window.pageYOffset),e+"/"+t+"/"+r+"/"+n},elementposition:function(e){var t=0,n=0;if(e.offsetParent){t=e.offsetLeft,n=e.offsetTop;while(e=e.offsetParent)t+=e.offsetLeft,n+=e.offsetTop}return t+"/"+n},getstyle:function(e,t){var n=e,r;return n.currentStyle?r=n.currentStyle[t]:window.getComputedStyle&&(r=document.defaultView.getComputedStyle(n,null).getPropertyValue(t)),r},glicense:function(e){var t=location.href,n=!0,r=e,i=r.length;if(i==20){var s=r.substring(0,1),o=r.substring(9,10),u=r.substring(17,18);s!="a"&&(n=!1),o!="z"&&(n=!1),u!="m"&&(n=!1)}else n=!1;return t.indexOf("addthisevent.com")==-1&&r=="aao8iuet5zp9iqw5sm9z"&&(n=!1),n},refresh:function(){var e=document.getElementsByTagName("*");for(var t=0;t<e.length;t+=1)e[t].className=="addthisevent-drop"&&(e[t].className="addthisevent");addthisevent.generate()},callcack:function(e){_ate_callback=e},setlabel:function(e,t){var n=e.toLowerCase();n=="outlook"&&(_ate_lbl_outlook=t),n=="google"&&(_ate_lbl_google=t),n=="yahoo"&&(_ate_lbl_yahoo=t),n=="ical"&&(_ate_lbl_ical=t),n=="facebookevent"&&(_ate_lbl_fb_event=t)},settings:function(e){e.license!=undefined&&(_ate_license=e.license),e.css!=undefined&&(e.css?_ate_css="true":(_ate_css="false",addthisevent.removecss())),e.mouse!=undefined&&(_ate_mouse=e.mouse),e.outlook!=undefined&&e.outlook.show!=undefined&&(_ate_show_outlook=e.outlook.show),e.google!=undefined&&e.google.show!=undefined&&(_ate_show_google=e.google.show),e.yahoo!=undefined&&e.yahoo.show!=undefined&&(_ate_show_yahoo=e.yahoo.show),e.hotmail!=undefined&&e.hotmail.show!=undefined&&(_ate_show_hotmail=e.hotmail.show),e.ical!=undefined&&e.ical.show!=undefined&&(_ate_show_ical=e.ical.show),e.facebook!=undefined&&e.facebook.show!=undefined&&(_ate_show_facebook=e.facebook.show),e.outlook!=undefined&&e.outlook.text!=undefined&&(_ate_lbl_outlook=e.outlook.text),e.google!=undefined&&e.google.text!=undefined&&(_ate_lbl_google=e.google.text),e.yahoo!=undefined&&e.yahoo.text!=undefined&&(_ate_lbl_yahoo=e.yahoo.text),e.hotmail!=undefined&&e.hotmail.text!=undefined&&(_ate_lbl_hotmail=e.hotmail.text),e.ical!=undefined&&e.ical.text!=undefined&&(_ate_lbl_ical=e.ical.text),e.facebook!=undefined&&e.facebook.text!=undefined&&(_ate_lbl_facebook=e.facebook.text),e.dropdown!=undefined&&e.dropdown.order!=undefined&&(_ate_dropdown=e.dropdown.order),e.callback!=undefined&&(_ate_callback=e.callback)}}}();return window.addEventListener?(window.addEventListener("DOMContentLoaded",function(){_d_rd=!0,addthisevent.trycss(),addthisevent.generate()},!1),window.addEventListener("load",function(){addthisevent.generate()},!1)):window.attachEvent?(window.attachEvent("onreadystatechange",function(){_d_rd=!0,addthisevent.trycss(),addthisevent.generate()}),window.attachEvent("onload",function(){addthisevent.generate()})):window.onload=function(){addthisevent.generate()},_d_rd||setTimeout(function(){addthisevent.trycss(),addthisevent.generate()},20),window.addthisevent=addthisevent,addthisevent}),define("modules/live/components/utils/adria",[],function(){if(typeof JSON=="undefined")return;JSON.parseAdria=function(e){return!e||typeof e!="string"?null:(e[0]!="{"&&(e=JSON.grdec(e)),JSON.parse(e))},JSON.gruntaunt=function(e){var t,n,r;t=1,n=e;for(;;){r=n>>t,n^=r;if(r<=1||t==8)return n;t<<=1}},JSON.grdec=function(e){var t="";for(var n=0;n<e.length;n++)t+=String.fromCharCode(JSON.gruntaunt(e.charCodeAt(n)));return t}}),define("modules/live/components/live.Core",[],function(){"use strict";var e=e||{};return e.MatchHelper={isMatchFinished:function(e){return e=+e,e===11||e===12||e===13||e===15||e===19||e===20},isMatchLive:function(e){return!this.isMatchFinished(e)&&!this.isMatchUpcoming(e)},isMatchUpcoming:function(e){return e=+e,e===-1||e===0||e===1},isMatchHalfTime:function(e){return e=+e,e===3},isMatchSuspended:function(e){return e=+e,e===11},getLogo:function(e,t){return e.s?e.s:"http://layout.int.eurosport.com/eso/i/fanion/h100_default.png"},countSetScore:function(e,t,n){var r=0,i=0,s=0;e&&t&&(s=e.length,s&&this.isMatchLive(n)&&s--);while(s--)parseInt(e[s])>parseInt(t[s])&&r++,parseInt(e[s])<parseInt(t[s])&&i++;return{home:r,away:i}}},e}),define("modules/live/components/live.adria",["jquery-full","modules/live/components/live.Core","underscore"],function(e,t,n){"use strict";function r(e){this.options={feedUrl:e.feedUrl||null,feedType:e.feedType||null,refreshInreval:e.refreshInreval||0},this._isPaused=!1,this.ondata=null,this.onerror=null}function i(e){this.options={globalFeed:e.globalFeed||null,liveFeed:e.liveFeed||null,matchFeed:e.matchFeed||null,dictFeed:e.dictFeed||null},this._feed={global:null,live:null,dict:null,match:null},this._subscribers={global:[],live:[],dict:[],match:[]},this._data={global:null,live:null,dict:null,match:null},this._nextSubscriberId=0,this._GLOBAL_FEED_REFRESH_INTERVAL=18e5,this._MATCH_FEED_REFRESH_INTERVAL=6e4,this._LIVE_FEED_REFRESH_INTERVAL=3e4,this._DIC_FEED_REFRESH_INTERVAL=0,this.options.dictFeed&&this._setupFeed(this.options.dictFeed,this._DIC_FEED_REFRESH_INTERVAL,"dict"),this.options.globalFeed&&this._setupFeed(this.options.globalFeed,this._GLOBAL_FEED_REFRESH_INTERVAL,"global"),this.options.matchFeed&&this._setupFeed(this.options.matchFeed,this._MATCH_FEED_REFRESH_INTERVAL,"match"),this.options.liveFeed&&this._setupFeed(this.options.liveFeed,this._LIVE_FEED_REFRESH_INTERVAL,"live")}r.prototype.initFeed=function(){var e=this;e.options.feedUrl&&(e.options.refreshInreval&&setInterval(function(){e._request()},e.options.refreshInreval),e._request())},r.prototype._request=function(){var t=this;if(this._isPaused)return;e.ajax({type:"GET",url:this.options.feedUrl,dataType:"text",success:t.ondata,error:t.onerror})},r.prototype.resume=function(){this._isPaused=!1},r.prototype.pause=function(){this._isPaused=!0},i.prototype._setupFeed=function(e,t,n){var i=this;this._feed[n]=new r({feedUrl:e,refreshInreval:t}),this._feed[n].ondata=function(e){i._onFeedData(JSON.parseAdria(e),n)},this._feed[n].onerror=function(e){i._onFeedError(n,e,i._data[n])},this._feed[n].initFeed()},i.prototype._onFeedData=function(e,t){var r,i=this._subscribers[t];this._data[t]=e,r=i.length;while(r--)i[r].toRemove&&i.splice(r,1);i.length&&e?n.each(i,function(t){t.listener(e.Results,e.nlr)}):this._feed[t].pause()},i.prototype._onFeedError=function(e,t,r){var i,s=this._subscribers[e];i=s.length;while(i--)s[i].toRemove&&s.splice(i,1);s.length&&n.each(s,function(n){n.onerror!==undefined&&n.onerror(e,t,r)})},i.prototype._generateSubscriberId=function(){return++this._nextSubscriberId},i.prototype.subscribe=function(e,t,n){var r=this._generateSubscriberId();return this._subscribers[e].push({id:r,listener:t,onerror:n}),this._data[e]&&t(this._data[e].Results,this._data[e].nlr),this._feed[e]&&this._feed[e]._isPaused&&this._feed[e].resume(),r},i.prototype.unsubscribe=function(e,t){var r=n.find(this._subscribers[e],function(e){return e.id===t});r.toRemove=!0},i.prototype.getNamesItem=function(e,t,r){var i=n.find(this._data[e].Names,function(e){return e.k==t})||{};return n.find(i.v,function(e){return e._==r},this)||{}},i.prototype.getURL=function(e,t,n,r){var i=this,s;return s=i.getPatternURL(t),n._60===373&&t===1&&(s+="#national"),document.location.hostname==="localhost"&&(s="/oxygen"+s+"?domain=int.eurosport.fr"),s.replace(/\{(\w):(\d+)\}/g,function(t,s,o){return s==="u"?i.getNamesItem(r,Number(o),n["_"+o]||e).u:e})},i.prototype.getPatternURL=function(e){var t="";if(this._data.dict){var r=n.find(this._data.dict.dicos[0].v.urls,function(t){return t.k==e})||{};t=r.v||""}return t},i.prototype.getStatusName=function(e){var t;if(this._data.dict){var r=n.find(this._data.dict.dicos[0].v.status,function(t){return t.k==e})||{};t=r.v||" "}return t};var s={init:function(){var n=e(".es-adria-observer-data").data("es-adria-observer"),r;n&&(typeof n=="object"?r=n:console.info("Corrupt data in es-adria-observer-data"),r&&(t.adria=new i(r)))}},o={init:function(){s.init()}};return o}),define("modules/live/components/live.scroll.bis",["jquery-full","base/base"],function(e,t){"use strict";var n={_screenSize:null,_prevHeaderPosition:"",init:function(){this._resizeHandler=this._resizeHandler.bind(this),this._subnavigationScrollHandler=this._subnavigationScrollHandler.bind(this),this._resetSubnavigationScrollHandler=this._resetSubnavigationScrollHandler.bind(this),this._setSubnavigationWidth=this._setSubnavigationWidth.bind(this),this.$doc=t.elements.getDocument(),this.$win=t.elements.getWindow(),this.$subnavigationContainer=e(".live_match_nav_v8_5_bis"),this.$subnavigation=e("#live-match-nav-wrapper"),this.$border=e("#live-match-nav-border"),this.$subnavigationShares=this.$subnavigationContainer.find(".live-match-nav__sharing"),this.$content=e(".col-content");if(this.$subnavigationContainer.length===0||this.$subnavigation.length===0)return;t.responsive.registerMainSizeFn(this._resizeHandler)},_resizeHandler:function(t){if(this._screenSize===t.size){t.size==="desktop"&&this._setSubnavigationWidth();return}switch(t.size){case"desktop":this._setSubnavigationWidth(),e.unsubscribe("SCROLL_SUBNAVIGATION.NEW",this._subnavigationScrollHandler),e.subscribe("SCROLL_SUBNAVIGATION.NEW",this._subnavigationScrollHandler),e.publish("SCROLL_SUBNAVIGATION.NEW"),this.$win.off("scroll.subnavigation"),this.$win.on("scroll.subnavigation",function(){e.publish("SCROLL_SUBNAVIGATION.NEW")});break;case"tablet":this._resetSubnavigationWidth(),this.$win.off("scroll.subnavigation"),e.unsubscribe("SCROLL_SUBNAVIGATION.NEW",this._subnavigationScrollHandler),this._resetSubnavigationScrollHandler();break;case"mobile":this._resetSubnavigationWidth(),this.$win.off("scroll.subnavigation"),e.unsubscribe("SCROLL_SUBNAVIGATION.NEW",this._subnavigationScrollHandler),this._resetSubnavigationWidth(),this._resetSubnavigationScrollHandler()}this._screenSize=t.size},_subnavigationScrollHandler:function(){var t=this.$doc.scrollTop(),n=parseInt(this.$subnavigationContainer.offset().top),r=e("#top").height(),i=e("#top").hasClass("headerhidden")?0:r,s=e("#top").hasClass("headerhidden")?n:n-r;t>=parseInt(s)?(this.$subnavigation.css({top:i+"px"}),this.$border.css({top:i+"px"}),this.$subnavigationShares.length>0&&this.$subnavigationShares.css({top:i+"px"}),this.$subnavigation.hasClass("sticky")||(this.$subnavigation.addClass("sticky"),this.$content.css({"padding-top":this.$subnavigation.height()}),this.$border.addClass("sticky"))):this._resetSubnavigationScrollHandler()},_resetSubnavigationScrollHandler:function(){this.$subnavigation.hasClass("sticky")&&(this.$subnavigation.css({top:""}).removeClass("sticky"),this.$border.css({top:""}).removeClass("sticky"),this.$subnavigationShares.length>0&&this.$subnavigationShares.css({top:""}),this.$subnavigationContainer.css({"padding-top":""}))},_setSubnavigationWidth:function(){this.$subnavigation.css({"min-width":this.$content.width()+"px"})},_resetSubnavigationWidth:function(){this.$subnavigation.css({"min-width":""})}},r={init:function(){n.init()}};return r}),define("modules/live/components/live.subnavigationmenu.bis",["jquery-full","base/base","modules/live/components/live.Core","knockout","helpers/helpers"],function(e,t,n,r,i){"use strict";var s={_tabs:null,_TAB_NAMES:null,_defaultTabsPrioArray:null,_observable:null,_matchFeedId:null,_matchStatusId:null,_sportId:null,_isDefaultTabSet:!1,_url:null,_isUserCommentsActivated:!1,_isCommentsTabLoaded:!1,getTabsConfig:function(){var t={SUMMARY:"navtab_Summary",Multiplex_Results:"navtab_TodayResults",LIVE_COMMENTS:"navtab_Comments",STATISTICS:"navtab_Statistics",FIS:"navtab_Fis",EUROSPORT_PLAYER:"navtab_EurosportPlayer",TEAMS:"navtab_Teams",PLAYERS:"navtab_Players",BRACKET:"navtab_Bracket",START_GRID:"navtab_StartGrid",STANDING:"navtab_Standing",MATCH_RESULT:"navtab_MatchResult",USER_COMMENTS:"navtab_UserComments"},r=[{tab:null,name:t.SUMMARY,onAfterAjaxRequest:function(){e.publish("subnavigation.tabInit:Summary")}},{tab:null,name:t.Multiplex_Results,onAfterAjaxRequest:function(){e.publish("subnavigation.tabInit:MultiplexResults")}},{tab:null,name:t.LIVE_COMMENTS,onAfterAjaxRequest:null},{tab:null,name:t.STATISTICS,onAfterAjaxRequest:function(){e.publish("subnavigation.tabInit:TeamStats")}},{tab:null,name:t.FIS,onAfterAjaxRequest:null},{tab:null,name:t.EUROSPORT_PLAYER,onAfterAjaxRequest:function(t){var n=t.tab.getContent().getElem();e.publish("subnavigation.tabInit:EurosportPlayer",n)}},{tab:null,name:t.TEAMS,updateInterval:18e4,onAfterAjaxRequest:function(e){this._matchFeedId&&n.MatchHelper.isMatchLive(this._matchStatusId)&&setTimeout(function(){i.navTabs.resetAjax(e.tab.getContent().getElem()),e.tab.ajax.getData()},e.updateInterval)}},{tab:null,name:t.PLAYERS,onAfterAjaxRequest:null},{tab:null,name:t.BRACKET,onAfterAjaxRequest:function(){e.publish("subnavigation.tabInit:Brackets")}},{tab:null,name:t.START_GRID,onAfterAjaxRequest:null},{tab:null,name:t.STANDING,onAfterAjaxRequest:function(){e.publish("subnavigation.tabInit:Brackets")}},{tab:null,name:t.MATCH_RESULT,onAfterAjaxRequest:null},{tab:null,name:t.USER_COMMENTS,onAfterAjaxRequest:function(){s._isCommentsTabLoaded||e.publish("subnavigation.tabInit:UserComments"),s._isCommentsTabLoaded=!0}}],o={upcoming:[t.LIVE_COMMENTS,t.SUMMARY,t.Multiplex_Results,t.TEAMS,t.PLAYERS,t.MATCH_RESULT,t.FIS,t.BRACKET,t.STANDING,t.STATISTICS,t.USER_COMMENTS,t.START_GRID,t.EUROSPORT_PLAYER],live:[t.Multiplex_Results,t.LIVE_COMMENTS,t.MATCH_RESULT,t.FIS,t.STATISTICS,t.TEAMS,t.SUMMARY,t.PLAYERS,t.BRACKET,t.STANDING,t.START_GRID,t.USER_COMMENTS,t.EUROSPORT_PLAYER],cyclingPast:[t.Multiplex_Results,t.SUMMARY,t.MATCH_RESULT,t.STANDING,t.LIVE_COMMENTS,t.STATISTICS,t.FIS,t.TEAMS,t.PLAYERS,t.BRACKET,t.START_GRID,t.USER_COMMENTS,t.EUROSPORT_PLAYER],past:[t.LIVE_COMMENTS,t.SUMMARY,t.Multiplex_Results,t.MATCH_RESULT,t.STATISTICS,t.FIS,t.TEAMS,t.PLAYERS,t.BRACKET,t.STANDING,t.START_GRID,t.USER_COMMENTS,t.EUROSPORT_PLAYER]};return{TAB_NAMES:t,tabs:r,defaultTabPriorities:o}},initAvailableTabs:function(){var e=null;this._tabs=this._tabs.filter(function(t){return e=i.navTabs.getElements(t.name),e.length&&(t.tab=e[0]),t.tab!==null})},reflowTabs:function(){this._tabs=this._tabs.map(function(e){return e.tab=null,e}),this.initAvailableTabs(),this.initAjaxCallbacks(),this.initCommentsCount()},initAjaxCallbacks:function(){for(var e=0,t=this._tabs.length;e<t;e++)this._tabs[e].onAfterAjaxRequest&&this._tabs[e].tab.ajax&&this._tabs[e].tab.ajax.onAfterAjaxRequest(this._tabs[e].onAfterAjaxRequest.bind(this,this._tabs[e]))},subscribeToAdriaFeed:function(){var t=this;if(n.adria!==undefined)this._matchFeedId=n.adria.subscribe("match",function(e){t.setUpMatchInfo(e),t.setUpDefaultTab(),t.getTabsAjax(),t.checkFeedUnsubscribe(e)},function(n,r,i){if(i)return;var s=e("#live-match-nav-wrapper");t._matchStatusId=s.data("match-status-id"),t._sportId=s.data("match-sport-id"),t.setUpDefaultTab()});else{var r=e("#live-match-nav-wrapper");this._matchStatusId=r.data("match-status-id"),this._sportId=r.data("match-sport-id"),t.setUpDefaultTab()}},initKnockoutBindings:function(){this._observable={status:r.observable(),homeScore:r.observable(),awayScore:r.observable(),isUpcoming:r.observable(n.MatchHelper.isMatchUpcoming(+this._matchStatusId))}},setUpMatchInfo:function(e){e!==null&&(this._matchStatusId=e[0].v[0].s,this._sportId=e[0].k._0)},checkFeedUnsubscribe:function(e){if(e===null){n.adria.unsubscribe("match",this._matchFeedId),this._matchFeedId=null;return}n.MatchHelper.isMatchFinished(this._matchStatusId)&&this._matchFeedId&&(n.adria.unsubscribe("match",this._matchFeedId),this._matchFeedId=null)},setUpDefaultTab:function(){if(this._isDefaultTabSet||document.location.hash)return;var e=this,t="";n.MatchHelper.isMatchFinished(this._matchStatusId)?(t="past",this._sportId===18&&(t="cyclingPast")):n.MatchHelper.isMatchUpcoming(this._matchStatusId)?t="upcoming":n.MatchHelper.isMatchLive(this._matchStatusId)&&(t="live"),e._tabs=e._tabs.sort(function(n,r){return e._defaultTabsPrioArray[t].indexOf(n.name)-e._defaultTabsPrioArray[t].indexOf(r.name)}),e._tabs.length>0?(e._tabs[0].tab.activate(),e._isDefaultTabSet=!0):console.error("live subnavigation: no tabs available")},getTabsAjax:function(){var t=e("#live-match-nav-tabs"),n=this;e.get({url:t.parent().data("ajax-url"),success:function(r){var s,o,u=e(r).find("#live-match-nav-tabs"),a=t.find("li a"),f=u.find("li a");s=a.text(),o=f.text();if(s===o)return;var l=t.find(".active").data("tab-content-id");u.find('[data-tab-content-id="'+l+'"]').addClass("active"),t.html(u.html()),i.navTabs.reflow(),n.reflowTabs()}})},initCommentsCount:function(){typeof LF!="undefined"&&LF.CommentCount({replacer:function(e,n){e.innerHTML=n+" "+(n===0||n===1?t.storage.labels.get("6732"):t.storage.labels.get("6731"))}})},init:function(){var t=this.getTabsConfig();this._tabs=t.tabs,this._TAB_NAMES=t.TAB_NAMES,this._defaultTabsPrioArray=t.defaultTabPriorities,this.initAvailableTabs(),this.initAjaxCallbacks(),this.initKnockoutBindings(),this.subscribeToAdriaFeed(),this.initCommentsCount(),e.subscribe("subnavigation.reflow",this.reflowTabs.bind(this))}};return{init:function(){s.init()},reflow:function(){s.reflowTabs()},isCommentsTabLoaded:function(){return s._isCommentsTabLoaded}}}),define("modules/live/components/live.Match",["jquery-full","modules/live/components/live.Core","knockout","underscore"],function(e,t,n,r){"use strict";var i=function(t){this.options=e.extend({target:null,liveHeroData:{}},t),this.items=null,this.statuses={11:"past",12:"past",13:"past",15:"past",20:"past","-1":"future",0:"future",1:"future"},this.observable={isLoaded:n.observable(!1),caption:{minute:n.observable(),text:n.observable(),source:n.observable(),status:n.observable()}}};return i.prototype._onMatchData=function(n){this._applyBindings(),!r.isNull(n)&&this._liveUpdate&&(this._context=n[0].k,this._onData(n[0].v[0])),this._isPast()&&this._matchFeedId&&(t.adria.unsubscribe("match",this._matchFeedId),Date.now()-new Date(n[0].v[0].d)>864e5&&e.publish("terminate-live-feed")),this.observable.isLoaded(!0)},i.prototype._onData=function(e){this._resultsObject=e,this._parseResponse(),this._showDynamicData(),this._checkMatchStatus()},i.prototype._initViewModel=function(){n.bindingHandlers.scoreText={update:function(e,t){t()()!==undefined&&(e.textContent=t()())}},n.bindingHandlers.scoreTextSet={update:function(e,t){t()()!==undefined&&t()()!==0&&(e.textContent=t()())}}},i.prototype._applyBindings=function(){if(this._bindingsApplied)return;document.getElementById(this.options.target)&&(n.applyBindings(this.observable,document.getElementById(this.options.target)),this._bindingsApplied=!0)},i.prototype._checkMatchStatus=function(){var e=this.observable.status();e==="past"&&(this._liveUpdate=!1)},i.prototype._getMatchStatus=function(){return this.statuses[this._resultsObject.s]||"live"},i.prototype._isPast=function(){return this._getMatchStatus()==="past"},i.prototype._isLive=function(){return this._getMatchStatus()==="live"},i.prototype._isFuture=function(){return this._getMatchStatus()==="future"},i.prototype._isSuspended=function(){return this._resultsObject.s===11},i.prototype._showDynamicData=function(){e(".static-data",".live-hero").hide(),e(".dynamic-data",".live-hero").show(),e(".static-data","#livehero").hide(),e(".dynamic-data","#livehero").show()},i}),define("modules/live/components/live.FootballMatch",["jquery-full","base/base","modules/live/components/live.Core","knockout","underscore","modules/live/components/live.Match"],function(e,t,n,r,i,s){"use strict";function o(t){s.call(this,t),this.options=e.extend({target:null,picture:""},t),this.items=null,this.actionTypes={7:{name:"penaltyGoal"},9:{name:"ownGoal"},10:{name:"goal"},11:{name:"yellowCard"},12:{name:"redCard"},8:{name:"substitutionIn"},14:{name:"substitutionOut"},16:{name:"rugbyGoal"},18:{name:"rugbyGoal"},19:{name:"rugbyGoal"},22:{name:"rugbyGoal"},15:{name:"rugbyGoal"}},this.sportSettings={22:{periods:[{minutes:45,axisPoint:0,range:[0,45]},{minutes:45,axisPoint:45,range:[46,90]},{minutes:30,axisPoint:90,range:[91,120]}],minPeriods:2,totalMinutes:{min:90,max:120},progressBarActions:[7,9,10,11,12,8,14],progressBarGoalsHighlight:[7,9,10],statuses:{2:1,3:2,4:2,6:3,7:3},goals:[7,10],ownGoals:[9],penalty:[7],cards:[11,12]},44:{periods:[{minutes:40,axisPoint:0,range:[0,40]},{minutes:40,axisPoint:40,range:[41,80]}],minPeriods:2,totalMinutes:{min:80,max:80},progressBarActions:[11,16,19,22,15],progressBarGoalsHighlight:[16],statuses:{2:1,3:1,4:2,6:3,7:3},goals:[16,19,22,15],ownGoals:[],cards:[]}},this._localization=t.localization,this._initObservable(),this._initViewModel(),this._liveUpdate=!0,this._matchFeedId=n.adria.subscribe("match",e.proxy(this._onMatchData,this),e.proxy(this._onMatchDataError,this)),this._pictureTimestamp=null,this._initTooltipsterActions()}o.prototype=Object.create(s.prototype),o.prototype.constructor=o,o.prototype.getSportSettings=function(){return this.sportSettings[this.sportId]||this.sportSettings[22]},o.prototype._initObservable=function(){var e=this;i.extend(this.observable,{status:r.observable(),minute:r.observable(),scoreHome:r.observable(),scoreAway:r.observable(),scorersHome:r.observableArray([]),scorersHomeFouls:r.observableArray([]),scorersAway:r.observableArray([]),scorersAwayFouls:r.observableArray([]),scorersAwayMobile:r.observableArray([]),groupedActionsHome:r.observableArray([]),groupedActionsAway:r.observableArray([]),progressBarPoints:r.observableArray([]),timeline:r.observableArray([]),isLoaded:r.observable(!1)}),this.observable.liveHeroCSS=r.computed(function(){var t=[e.observable.status()];return e._context&&t.push(e._hasProgressBar()?"has-progress-bar":""),t.join(" ")}),this.observable.matchStatusCSS=r.computed(function(){return e.observable.status(),"heromatch--"+e.observable.status()})},o.prototype._onMatchDataError=function(t,n,r){if(r)return;var i=e("#live-match-nav-wrapper").length&&e("#live-match-nav-wrapper").data("match-status-id");i?(this.observable.status(this.statuses[i]),this.observable.isLoaded(!0),console.log(t+" feed error, match status taken from subnav")):console.log(t+" feed error, match status is uknown")},o.prototype._parseResponse=function(){this.sportId=this._context._0;var e=this._resultsObject;this.observable.caption.status(n.adria.getStatusName(e.s)),e.s==3&&(e.pm=0);var t=this._resultsObject.r;this._actions=this._parseActions(),this.observable.status(this.statuses[e.s]||"live"),this.observable.minute(this._calculateStatusMinute()),this.observable.scoreHome(t&&t.s1),this.observable.scoreAway(t&&t.s2),this.observable.scorersHome(this._getScorers("home")),this.observable.scorersAway(this._getScorers("away")),this.observable.scorersHomeFouls(this._getScorersFouls("home")),this.observable.scorersAwayFouls(this._getScorersFouls("away")),this.sportId=="44"&&(this.observable.groupedActionsHome(this._getGroupedActions("home")),this.observable.groupedActionsAway(this._getGroupedActions("away")),this._initTooltipsterGroupedActions()),this._hasProgressBar()&&(this.observable.timeline(this._getTimelineData()),this._initTooltopsterDots())},o.prototype._parseActions=function(){var t=this._resultsObject.r,r=[];for(var s in this.actionTypes)r.push(+s);var o=[];try{o=i.map(["n1","n2"],function(s){return i.chain(t[s].a).filter(function(e){return i.indexOf(r,e.at)>=0},this).map(function(t){var r=e.trim(n.adria.getNamesItem("match",1,t._).n),i=r,s=r&&r.split(" ");return s.length>=2&&(s[0]=s[0][0]+".",i=s.join(" ")),{minute:t.m,actionType:t.at,name:r,nameShort:i,_:t._,__:1}},this).sortBy(function(e){return e.minute},this).value()},this)}catch(u){o=[[],[]]}return i.object(["home","away"],o)},o.prototype._getScorers=function(e){var t=this.getSportSettings(),r=this._actions[e],s=e=="home"?"away":"home",o=i.filter(this._actions[s],function(e){return i.indexOf(t.ownGoals,e.actionType)>=0},this);return r=i.filter(r,function(e){return i.indexOf(t.goals,e.actionType)>=0},this),r=i.sortBy(r.concat(o),function(e){return e.minute},this),r=i.map(r,function(e){var r=i.extend({},this._context,{_1:e._}),s=i.indexOf(t.ownGoals,e.actionType)>=0?this._localization.actionTypes[e.actionType][0]:"",o=i.indexOf(t.penalty,e.actionType)>=0?this._localization.actionTypes.p:"";return i.extend({},e,{url:n.adria.getURL(e._,e.__,r,"match"),minute:e.minute+"'"+s+o,time:e.minute,ownGoal:s})},this),r=i.groupBy(r,function(e){return e._},this),r=i.sortBy(i.values(r),function(e){return e[0].time},this),i.map(r,function(e){var t=i.extend({},e[0]),n=i.pluck(e,"minute");return t.minute=n.join(", "),t},this)},o.prototype._getScorersFouls=function(e){var t=this.getSportSettings(),r=this._actions[e];return r=i.filter(r,function(e){return i.indexOf(t.cards,e.actionType)>=0},this),r=i.sortBy(r,function(e){return e.minute},this),r=i.map(r,function(e){var t=i.extend({},this._context,{_1:e._});return i.extend({},e,{url:n.adria.getURL(e._,e.__,t,"match"),minute:" "+e.minute+"' ",time:e.minute,card:e.actionType===11?"card--yellow":e.actionType===12?"card--red":" "})},this),r},o.prototype._getGroupedActions=function(e){var t=this._actions[e];t=i.filter(t,function(e){return e.actionType==16||e.actionType==18||e.actionType==22||e.actionType==19||e.actionType==15},this),i.each(t,function(e){e.url=n.adria.getURL(e._,e.__,this._context,"match")},this),t.reverse();var r=i.groupBy(t,"actionType",this);return r=i.sortBy(r,function(e,t){var n={16:1,18:2,22:3,19:4,15:5};return n[t]},this),i.map(r,function(e){return{total:e.length,name:e.length>1?this._localization.actionTypes[e[0].actionType][1]||this._localization.actionTypes[e[0].actionType][0]:this._localization.actionTypes[e[0].actionType][0],data:i.map(e,function(e){return{minute:e.minute,nameShort:e.nameShort,url:e.url}})}},this)},o.prototype._hasProgressBar=function(){return i.indexOf([22,44],this.sportId)>=0},o.prototype._getTimelineData=function(){var e=[],t=this._resultsObject,n=this.getSportSettings(),r,s;t.sm>n.totalMinutes.min?(s=3,r=n.totalMinutes.max):(s=2,r=n.totalMinutes.min);var o=Array.prototype.concat(this._actions.home,this._actions.away);o=i.filter(o,function(e){return i.indexOf(n.progressBarActions,e.actionType)>=0},this),o=i.groupBy(o,function(e){return e.minute},this),this.progressBarPoints=o;var u=i.bind(function(e,t,r,s){var o=i.find(s,function(e){return i.indexOf(n.progressBarGoalsHighlight,e.actionType)>=0},this),u=(e-t)*100/r;return u=u>98.5?98.5:u,{minute:e,left:u+"%",goalIcon:o?"goal":""}},this);for(var a=0;a<s;a++){var f=n.periods[a].minutes,l={};l.width=f*100/r+"%",l.points=[],i.each(o,function(e,t){t>=n.periods[a].range[0]&&t<=n.periods[a].range[1]&&l.points.push(u(t,n.periods[a].range[0],f,e))},this),l.axisPoints=[{value:n.periods[a].axisPoint}],l.elapsed={width:"100%",display:"none",right:"auto"},e.push(l)}var c=i.last(e);c.axisPoints.push({value:r});var h=n.periods[e.length-1].range[0],p=n.periods[e.length-1].minutes;i.each(o,function(e,t){t>=r&&c.points.push(u(t,h,p,e))},this);if(this.observable.status()=="live"){var d=(n.statuses[t.s]||n.minPeriods)-1;i.each(e,function(e,r){e.elapsed.width="0";if(r<d)e.elapsed.width="100%",e.elapsed.display="none",e.elapsed.right="auto";else if(r==d){var i=n.periods[r].minutes,s=t.pm<=i?t.pm:i,o=s*98/i;e.elapsed.width=o+"%",e.elapsed.display="block",e.elapsed.right=98-o+"%"}},this)}return e},o.prototype._calculateStatusMinute=function(){var e=this._resultsObject,t=this.observable.status(),n=this.getSportSettings();if(e.s!==3||this.sportId!="44"&&this.sportId!="22"){if(n&&t=="live"){var r=e.pm||0,s=n.statuses[e.s]||n.minPeriods;return s-=1,i.reduce(n.periods.slice(0,s),function(e,t){return e+t.minutes},0,this)+r+"'"}return""}return this._localization.halfTime},o.prototype._initTooltopsterDots=function(){e("#live-hero .event-dot").not(".tooltipstered").tooltipster({trigger:"custom",contentAsHTML:!0,theme:"tooltipster-live-hero",maxWidth:350,speed:0})},o.prototype._initTooltipsterActions=function(){var n=this,r=e("#live-hero"),s=r.find(".periods"),o=e(".livecomments-wrapper").eq(0),u=54,a=t.elements.getBody(),f=i.template('<div class="inner"><div class="left-col"><span class="mins"><%= minute %></span> min<div class="icons"><% for (var i = 0; i < icons.length; i++) { %><div class="icon <%= icons[i] %>"></div><% } %></div></div><div class="copy-col"><% for (var j = 0; j < actions.length; j++) { %><div><%- actions[j].action %> <%- actions[j].player %></div><% } %></div></div>'),l=function(r){r.preventDefault();var s=e(this).data("minute"),o=n.progressBarPoints[s],u=i.map(o,function(e){return this.actionTypes[e.actionType].name},n);u=i.without(i.uniq(u),"substitutionOut");var a=i.map(o,function(e){return{action:this._localization.actionTypes[e.actionType][0],player:e.name}},n),l=f({minute:s,icons:u,actions:a});e(this).tooltipster("content",l).tooltipster("show"),t.responsive.getMainSize()=="tablet"&&e(e(this).tooltipster("elementTooltip")).on("click touchend",i.bind(h,this))},c=function(t){e(this).tooltipster("hide")},h=function(n){n.preventDefault();var i=e(this).data("minute"),s=o.find(".livecomments-comment[data-minute="+i+"]");if(s.length){o.hasClass("active")||e("#live-subnavigation .js-nav-link.live").trigger("click"),o.find(".livecomments-comment.future-scroll").length&&o.find(".livecomments-comment.future-scroll").css({transition:"none","-moz-transition":"none","-o-transition":"none"}).removeClass("future-scroll");var f=s.offset().top-(r.find("div.teams").outerHeight()+45+u),l=t.elements.getHtml().add(a);l.animate({scrollTop:Math.floor(f)},1e3)}},p=function(){s.off("mouseenter mouseleave click touchend"),a.off("click",m),t.elements.getWindow().off("scroll resize",m)},d=function(e){e.preventDefault(),h.call(this,e)},v=function(t){t.preventDefault(),t.stopPropagation(),i.isUndefined(e(this).tooltipster("elementTooltip"))?(a.find("> .tooltipster-live-hero").remove(),l.call(this,t)):e(e(this).tooltipster("elementTooltip")).hasClass("tooltipster-dying")?(a.find("> .tooltipster-live-hero").remove(),l.call(this,t)):e(this).tooltipster("elementTooltip").trigger("touchend click",t)},m=function(){var e=a.find("> .tooltipster-live-hero");e.length&&e.remove()},g=t.responsive.getMainSize(),y=function(e){if(e.size!=g){switch(e.size){case"desktop":p(),s.on("mouseenter",".event-dot",l),s.on("mouseleave",".event-dot",c),s.on("click",".event-dot",d);break;case"tablet":p(),s.on("click touchend",".event-dot",v),t.elements.getWindow().on("scroll resize",m),a.on("click",m);break;default:}g=e.size}};y({size:null}),t.responsive.registerMainSizeFn(y)},o.prototype._initTooltipsterGroupedActions=function(){var t=function(){e(this).tooltipster("show")},n=function(){var t=i.template('<div class="inner"><% for (var i = 0; i < info.length; i++) { %><div class="action-row"><div class="left-col"><span><%= info[i].minute %></span>\'</div><% if (info[i].nameShort) { %><div class="copy-col"><a href="<%= info[i].url %>"> <%= info[i].nameShort %> </a></div><% } %></div><% } %></div>'),n=e(this).data("info"),r=t({info:n});return r};e(".actions-info").not(".tooltipstered").tooltipster({contentAsHTML:!0,theme:"tooltipster-live-hero rugby",interactive:!0,onlyOne:!0,functionInit:n,functionReady:t,position:"bottom"})};var u={init:function(){if(typeof n.adria!="undefined"){var t=e(".es-football-match-data").data("es-football-match"),r;t&&(typeof t=="object"?r=t:console.info("Corrupt data in es-football-match-data"),r&&new o(r))}}},a={init:function(){u.init()},constructorFunc:o};return a}),define("modules/live/components/live.TeamComposition",["jquery-full","base/base","modules/live/components/live.Core","knockout","underscore"],function(e,t,n,r,i){"use strict";var s={options:{target:null,teamsData:[]},selectedPlayer:null,isPlayerSelected:null,lastUpdateTime:null,setTeamCompoData:function(n){var i;this.options.target=n.target,this.options.teamsData=n.teamsData||[],this.selectedPlayer={id:0,name:r.observable(),country:r.observable(),position:r.observable(),birthday:r.observable(),weight:r.observable(),height:r.observable(),team:r.observable(),isHome:r.observable(),logo:r.observable(),link:r.observable(),avatar:r.observable()},this.isPlayerSelected=r.observable(!1),i=e("#team-composition-view"),i.length>0&&(r.cleanNode(i.get(0)),r.applyBindings(this,i.get(0)),this.$playerDataOverlay=e("<div class='player-data-overlay'></div>"),t.elements.getBody().append(this.$playerDataOverlay),this.$playerDataOverlay.click(function(){e(".player-data.show .close").trigger("click")}))},showPlayerInfo:function(e){var n=i.findWhere(this.options.teamsData,{id:e});if(n){this.$playerDataOverlay.show();if(t.responsive.getMainSize()==="mobile"){location.href=n.link;return}this.selectedPlayer.id=n.id,this.selectedPlayer.name(n.name),this.selectedPlayer.country(n.country),this.selectedPlayer.position(n.position),this.selectedPlayer.birthday(n.birthday),this.selectedPlayer.weight(n.weight),this.selectedPlayer.height(n.height),this.selectedPlayer.team(n.team),this.selectedPlayer.isHome(n.isHome),this.selectedPlayer.logo(n.logo),this.selectedPlayer.link(n.link),this.selectedPlayer.avatar(n.avatar),this.isPlayerSelected(!0)}},hidePlayerInfo:function(){this.isPlayerSelected(!1),this.$playerDataOverlay.hide()},init:function(){this.run(),this.initHoverPlayer(),this.initEvents(),setInterval(this.updateActiveTeamCompo.bind(this),18e4)},initEvents:function(){var t=this;e.subscribe("teamCompositionUpdate",function(){t.hidePlayerInfo(),t.init()}),e(".teams-football.nav-link").click(function(n){n.preventDefault();var r=new Date;(r-t.lastUpdateTime).toFixed()>6e5&&!e(this).is(".active")&&!e(this).is(".updating")&&(t.lastUpdateTime=r,t.updateTeamCompo())})},updateActiveTeamCompo:function(){var t=e(".teams-football.nav-link");t.is(".active")&&(this.updateTeamCompo(),this.lastUpdateTime=new Date)},initHoverPlayer:function(){var t=e(".module-team-compo"),n=function(){t.find("[data-player-id="+e(this).data("player-id")+"]").addClass("hover")},r=function(){t.find("[data-player-id="+e(this).data("player-id")+"]").removeClass("hover")};t.length>0&&(t.find("[data-player-id]").hover(n,r),t.find("[data-player-id]").off("touchstart").on("touchstart",function(n){t.find("[data-player-id="+e(this).data("player-id")+"]").addClass("hover")}),t.find("[data-player-id]").off("touchend").on("touchend",function(n){t.find("[data-player-id="+e(this).data("player-id")+"]").removeClass("hover")}))},run:function(){var t=e(".es-team-composition-data").data("es-team-composition"),n;t&&(typeof t=="object"?n=t:console.info("Corrupt data in es-team-composition-data"),n&&this.setTeamCompoData(n))},updateTeamCompo:function(){var t=e(".es-team-composition-data"),n="live_match_team_composition_v8",r=(window.location.host==="localhost"?"http://localhost:2446":"")+t.data("ajax-url"),i=e("."+n),s=e(".teams-football.nav-link");s.addClass("updating"),i.addClass("loading"),e.get(r).done(function(t){s.removeClass("updating"),e(t).find(".tab-content").addClass("active"),i.removeClass("loading").html(e(t).find("."+n).html()),e.publish("teamCompositionUpdate")}).fail(function(){console.info("Failed to fetch updated team composition info"),i.removeClass("loading"),s.removeClass("updating")})}},o={init:function(){s.init(),e.subscribe("subnavigation.tabInit:TeamComposition",function(){s.init()})}};return o}),define("modules/live/components/live.TeamStats_bis",["jquery-full","base/base","modules/live/components/live.Core","knockout","underscore"],function(e,t,n,r,i){"use strict";function s(e){this.options={playersData:e.playersData},this.resultObj=null,this.stats=null,this.isHaveStats=null,this.shootPositions=null,this.actionId=0,this._matchFeedId=null,this.$zone=null}s.prototype.init=function(){this.$zone=e(".live_match_team_stats_v8_5_bis");var t=function(){return{home:r.observable(),away:r.observable()}},i=function(){return{name:r.observable(),photo:r.observable(),link:r.observable(),teamLogo:r.observable()}};this.isHaveStats=r.observable(),this.stats={possession:t(),goals:t(),penaltiesScored:t(),penaltiesMissed:t(),corners:t(),freeKicks:t(),fouls:t(),offsides:t(),yellowCards:t(),redCards:t(),saves:t(),rugbyTries:t(),rugbyConvertionScored:t(),rugbyConvertionTotal:t(),rugbyPenaltiesScored:t(),rugbyPenaltiesTotal:t(),rugbyDropGoalsScored:t(),rugbyYellowCards:t(),rugbyRedCards:t(),rugbySubstitutions:t(),rugbyConversionScoredPercents:t(),rugbyPenaltiesScoredPercents:t(),shots:t(),shotOnTarget:t(),shotAccuracy:t(),conversionRate:t(),hitPostBar:t(),shotsBlocked:t(),penalties:t()},this.shootPositions={home:{goalsOrigin:r.observableArray()},away:{goalsOrigin:r.observableArray()}},this._matchFeedId=n.adria.subscribe("match",this.onData.bind(this));var s=document.getElementById("team-stats-view");s&&!r.dataFor(s)&&r.applyBindings(this,s)},s.prototype.onData=function(e){if(!e)return!1;e[0].v&&(this.resultObj=e[0].v[0].r,this.getMatchStats("home",this.resultObj.n1),this.getMatchStats("away",this.resultObj.n2),this.getShootPositions("home",this.resultObj.n1,this.resultObj.n2),this.getShootPositions("away",this.resultObj.n2,this.resultObj.n1),n.MatchHelper.isMatchFinished(e[0].v[0].s)&&this._matchFeedId&&n.adria.unsubscribe("match",this._matchFeedId),this.resultObj.n1.s?this.isHaveStats(!0):this.isHaveStats(!1))},s.prototype._calculatePercentageStats=function(e,t){var n=e.home()||0,r=e.away()||0,i=n+r;i?(t.home(Math.floor(n/i*100)+"%"),t.away(Math.floor(r/i*100)+"%")):(t.home("0%"),t.away("0%"))},s.prototype.getMatchStats=function(e,t){this.stats.possession[e](this.getTeamStat(t,500)+"%"),this.stats.goals[e](this.getTeamStat(t,100)),this.stats.penalties[e](this.getTeamStat(t,113)),this.stats.penaltiesScored[e](this.getTeamStat(t,119)),this.stats.penaltiesMissed[e](this.stats.penalties[e]()-this.stats.penaltiesScored[e]()),this.stats.corners[e](this.getTeamStat(t,108)),this.stats.freeKicks[e](this.getTeamStat(t,110)),this.stats.fouls[e](this.getTeamStat(t,111)),this.stats.offsides[e](this.getTeamStat(t,109)),this.stats.yellowCards[e](this.getTeamStat(t,114)),this.stats.redCards[e](this.getTeamStat(t,115)),this.stats.saves[e](this.getTeamStat(t,106)),this.stats.shotOnTarget[e](this.getTeamStat(t,104)),this.stats.shotsBlocked[e](this.getTeamStat(t,120)),this.stats.hitPostBar[e](this.getTeamStat(t,101)),this.stats.shots[e](this.stats.shotOnTarget[e]()+this.getTeamStat(t,105)+this.stats.shotsBlocked[e]()),this.stats.shotAccuracy[e](this.calculateRate(this.stats.shotOnTarget[e](),this.stats.shots[e]())),this.stats.conversionRate[e](this.calculateRate(this.stats.goals[e](),this.stats.shotOnTarget[e]())),this.stats.rugbyTries[e](this.getTeamStat(t,219003)),this.stats.rugbyConvertionScored[e](this.getTeamStat(t,219004)),this.stats.rugbyConvertionTotal[e](this.stats.rugbyConvertionScored[e]()+this.getTeamStat(t,219005)),this.stats.rugbyPenaltiesScored[e](this.getTeamStat(t,219006)),this.stats.rugbyPenaltiesTotal[e](this.stats.rugbyPenaltiesScored[e]()+this.getTeamStat(t,219007)),this.stats.rugbyDropGoalsScored[e](this.getTeamStat(t,219008)),this.stats.rugbyYellowCards[e](this.getTeamStat(t,219010)),this.stats.rugbyRedCards[e](this.getTeamStat(t,219011)),this.stats.rugbySubstitutions[e](this.getTeamStat(t,219012))},s.prototype.getShootPositions=function(e,t,n){var r=[],i=[],s=[],o;r=this.getActionsOrigin(t,10,"goal"),s=this.getActionsOrigin(n,9,"owngoal"),i=this.getActionsOrigin(t,7,"penaltygoal"),o=[].concat(r,i,s),o=o.sort(function(e,t){return e.field.minute-t.field.minute}),this.shootPositions[e].goalsOrigin(o)},s.prototype._getPlayerStatById=function(e,t,n){if(!e||!t||!n.length)return null;var r=0,i=n.length;for(;r<i;r++)if(n[r].p===e&&n[r]._===t)return n[r].v;return null},s.prototype.getPlayerInfo=function(e){var t=i.find(this.options.playersData,function(t){return t.id===e})||{},r=n.adria.getNamesItem("match",2,t.team);return{name:t.name,photo:t.photo,link:t.link,teamLogo:n.MatchHelper.getLogo(r,"s")}},s.prototype.getTeamStat=function(e,t){var n=i.find(e.s,function(e){return e._===t});return n?n.v:0},s.prototype.getActionsOrigin=function(e,t,n){var r=i.filter(e.a,function(e){return e.at===t&&e.hasOwnProperty("l")});return i.each(r,function(e){e._id=this.generateActionId()},this),i.map(r,function(e){return{gate:{id:e._id,type:n,coords:e.l?this.calculateGateCoords(e.l.g):{}},field:{id:e._id,player:this.getPlayerInfo(e._).name,minute:e.m,type:n,coords:e.l?this.calculateFieldCoords(e.l.p):{}}}},this)},s.prototype.calculateGateCoords=function(e){return e&&"x"in e&&"y"in e?{y:e.x,x:e.y}:{}},s.prototype.calculateFieldCoords=function(e){return e&&"x"in e&&"y"in e?{y:e.x,x:640-e.y}:{}},s.prototype.calculateRate=function(e,t){return t?(e/t*100).toFixed(0)+"%":0},s.prototype.generateActionId=function(){return++this.actionId};var o={$zone:e(".live_match_team_stats_v8_5_bis"),$dataSource:null,$goalSelects:null,$field:null,$gate:null,canvas:null,scaleFactor:{},screenSize:null,init:function(){typeof n.adria!="undefined"&&this.$zone.length>0&&(this.$dataSource=this.$zone.find(".es-team-stats-data"),this.$goalSelects=this.$zone.find(".live-stats-scheme__select"),this.$field=this.$zone.find(".live-stats-scheme__field"),this.$gate=this.$zone.find(".live-stats-scheme__field-gate"),this.$goalSelects=o.$zone.find(".live-stats-scheme__select"),this.calcScaleFactor(),this.initCanvas(),this.initStats(),this.initListeners())},calcScaleFactor:function(e){var t=e?266:276,n=e?151:158,r=e?180:186,i=21,s=n+r+i;this.scaleFactor={gate:{x:t/732,y:n/244},field:{x:t/640,y:r*2/1e3},canvasWidth:t,canvasHeight:s,gateHeight:n,fieldHeight:r,endZone:i}},initStats:function(){var e=this.$dataSource.data("es-team-stats"),t,n;e&&(typeof e=="object"?t=e:console.info("Corrupt data in es-team-stats-data"),t&&(n=new s(t),n.init()))},initListeners:function(){o.$goalSelects.on("click",o.playerSelect),n.adria.subscribe("match",function(){o.$goalSelects=o.$zone.find(".live-stats-scheme__select"),o.$goalSelects.on("click",o.playerSelect),o.$goalSelects.filter("[class$='--active']").length===0&&o.playerSelect()}),t.responsive.registerMainSizeFn(this.resizeHandler.bind(this))},initCanvas:function(){this.canvas&&(this.canvas.remove(),this.canvas=null),this.canvas=e("<canvas/>",{id:"field-canvas"}),this.canvas[0].width=this.scaleFactor.canvasWidth,this.canvas[0].height=this.scaleFactor.canvasHeight,this.canvas.appendTo(this.$field)},resizeHandler:function(e){if(this.screenSize===e.size)return;switch(e.size){case"desktop":case"tablet":this.calcScaleFactor(),this.initCanvas();break;case"mobile":this.calcScaleFactor(!0),this.initCanvas()}this.playerSelect(),this.screenSize=e.size},playerSelect:function(t){var n=t?e(this):o.$goalSelects.first(),r=n.data("coords");if(!r)return;o.$goalSelects.filter("[class$='--active']").removeClass("live-stats-scheme__select--active"),n.addClass(n[0].className+"--active"),o.drawGoal(r.x,r.y,r.x2,r.y2)},drawGoal:function(e,t,n,r){function c(){i.shadowColor="rgba(0, 0, 0, 0.15)",i.shadowBlur=8}function h(){i.shadowColor="rgba(0, 0, 0, 0)",i.shadowBlur=0}function p(){i.clearRect(0,0,i.canvas.width,i.canvas.height)}function d(e,t){i.save(),i.translate(e,t),i.beginPath(),i.fillStyle="#009cde",i.moveTo(10,-0.119),i.bezierCurveTo(11.38,-0.119,12.675,.142,13.886,.663),i.bezierCurveTo(15.097,1.184,16.158,1.9,17.07,2.811),i.bezierCurveTo(17.981,3.723,18.697,4.784,19.218,5.995),i.bezierCurveTo(19.739,7.206,20,8.502,20,9.882),i.bezierCurveTo(20,11.262,19.739,12.557,19.218,13.768),i.bezierCurveTo(18.697,14.979,17.981,16.04,17.07,16.952),i.bezierCurveTo(16.158,17.863,15.097,18.58,13.886,19.1),i.bezierCurveTo(12.675,19.621,11.38,19.881,10,19.881),i.bezierCurveTo(8.619,19.881,7.324,19.621,6.113,19.1),i.bezierCurveTo(4.902,18.58,3.84,17.863,2.929,16.952),i.bezierCurveTo(2.017,16.04,1.301,14.979,.781,13.768),i.bezierCurveTo(.26,12.557,0,11.262,0,9.882),i.bezierCurveTo(0,8.502,.26,7.206,.781,5.995),i.bezierCurveTo(1.301,4.784,2.017,3.723,2.929,2.811),i.bezierCurveTo(3.84,1.9,4.902,1.184,6.113,.663),i.bezierCurveTo(7.324,.142,8.619,-0.119,10,-0.119),i.lineTo(10,-0.119),i.moveTo(1.679,9.882),i.bezierCurveTo(1.679,9.986,1.685,10.09,1.699,10.194),i.bezierCurveTo(1.712,10.298,1.718,10.403,1.718,10.507),i.bezierCurveTo(1.875,10.767,2.115,11.08,2.441,11.444),i.bezierCurveTo(2.766,11.809,3.203,12.173,3.75,12.538),i.lineTo(6.562,11.21),i.lineTo(7.421,7.264),i.lineTo(5.156,4.882),i.bezierCurveTo(4.609,4.96,4.127,5.103,3.71,5.311),i.bezierCurveTo(3.294,5.52,2.955,5.715,2.695,5.897),i.bezierCurveTo(2.382,6.497,2.135,7.127,1.953,7.792),i.bezierCurveTo(1.77,8.456,1.679,9.153,1.679,9.882),i.lineTo(1.679,9.882),i.moveTo(18.242,8.905),i.bezierCurveTo(18.137,7.994,17.896,7.147,17.519,6.366),i.bezierCurveTo(17.141,5.584,16.666,4.882,16.093,4.257),i.bezierCurveTo(15.833,4.126,15.533,4.022,15.195,3.944),i.bezierCurveTo(14.856,3.866,14.465,3.827,14.023,3.827),i.bezierCurveTo(13.945,3.827,13.867,3.827,13.789,3.827),i.bezierCurveTo(13.71,3.827,13.645,3.827,13.593,3.827),i.lineTo(11.796,6.874),i.lineTo(13.437,10.624),i.lineTo(16.718,11.327),i.bezierCurveTo(17.187,10.858,17.539,10.403,17.773,9.96),i.bezierCurveTo(18.007,9.517,18.164,9.166,18.242,8.905),i.lineTo(18.242,8.905),i.moveTo(10,1.561),i.bezierCurveTo(9.375,1.561,8.775,1.626,8.203,1.756),i.bezierCurveTo(7.63,1.887,7.083,2.082,6.562,2.342),i.bezierCurveTo(6.38,2.577,6.165,2.889,5.917,3.28),i.bezierCurveTo(5.67,3.671,5.468,4.153,5.312,4.725),i.lineTo(7.617,7.147),i.lineTo(11.64,6.756),i.lineTo(13.398,3.749),i.bezierCurveTo(13.137,3.254,12.864,2.85,12.578,2.538),i.bezierCurveTo(12.291,2.225,12.031,1.965,11.796,1.756),i.bezierCurveTo(11.51,1.705,11.217,1.659,10.917,1.62),i.bezierCurveTo(10.618,1.581,10.312,1.561,10,1.561),i.lineTo(10,1.561),i.moveTo(4.257,15.858),i.bezierCurveTo(4.7,16.301,5.188,16.678,5.722,16.991),i.bezierCurveTo(6.256,17.303,6.822,17.564,7.421,17.772),i.bezierCurveTo(7.603,17.772,8.001,17.714,8.613,17.596),i.bezierCurveTo(9.224,17.479,9.869,17.147,10.546,16.6),i.lineTo(10.117,13.475),i.lineTo(6.601,11.444),i.lineTo(3.789,12.733),i.bezierCurveTo(3.658,13.514,3.677,14.178,3.847,14.725),i.bezierCurveTo(4.016,15.272,4.153,15.65,4.257,15.858),i.lineTo(4.257,15.858),i.moveTo(13.632,17.342),i.bezierCurveTo(14.309,17.004,14.927,16.587,15.488,16.092),i.bezierCurveTo(16.047,15.598,16.536,15.037,16.953,14.413),i.bezierCurveTo(17.005,14.126,17.037,13.723,17.05,13.202),i.bezierCurveTo(17.063,12.681,16.939,12.121,16.679,11.522),i.lineTo(13.398,10.819),i.lineTo(10.312,13.514),i.lineTo(10.742,16.6),i.bezierCurveTo(11.367,16.913,11.933,17.115,12.441,17.206),i.bezierCurveTo(12.949,17.297,13.333,17.342,13.593,17.342),i.lineTo(13.632,17.342),i.fill(),i.closePath(),i.restore()}var i=this.canvas[0].getContext("2d"),s="white",o="#e2e3e4",u=17,a=this.scaleFactor.canvasWidth-u,f=this.scaleFactor.fieldHeight+this.scaleFactor.endZone-u,l={gateX:e*this.scaleFactor.gate.x,gateY:t*this.scaleFactor.gate.y,fieldX:n*this.scaleFactor.field.x,fieldY:r*this.scaleFactor.field.y+(this.scaleFactor.gateHeight+this.scaleFactor.endZone)};l.gateX<u&&(l.gateX=u),l.fieldX<u&&(l.fieldX=u),l.gateX>a&&(l.gateX=a),l.fieldX>a&&(l.fieldX=a),l.fieldY-this.scaleFactor.gateHeight>f&&(l.fieldY=f+this.scaleFactor.gateHeight),p(),i.save(),i.beginPath(),i.strokeStyle=o,i.lineWidth=7,i.moveTo(l.gateX,l.gateY),i.lineTo(l.fieldX,l.fieldY),c(),i.stroke(),i.restore(),i.beginPath(),i.strokeStyle=o,i.fillStyle=s,i.lineWidth=4,i.arc(l.gateX,l.gateY,14,0,2*Math.PI),c(),i.stroke(),h(),i.fill(),i.beginPath(),i.arc(l.fieldX,l.fieldY,14,0,2*Math.PI),c(),i.stroke(),h(),i.fill(),i.restore(),i.beginPath(),i.strokeStyle=s,i.fillStyle=s,i.lineWidth=4,i.moveTo(l.gateX,l.gateY),i.lineTo(l.fieldX,l.fieldY),i.stroke(),i.closePath(),d(l.gateX-10,l.gateY-10),d(l.fieldX-10,l.fieldY-10)}},u={init:function(){o.init(),e.subscribe("subnavigation.tabInit:TeamStats",function(){o.init()})}};return u}),define("modules/live/components/live.FocalPoint",["jquery-full","base/base","modules/live/components/live.Core","underscore"],function(e,t,n,r){"use strict";function i(e){this.options={liveHeroData:e.liveHeroData||{},pictureAjaxURL:e.pictureAjaxURL||"",pictureBaseURL:e.pictureBaseURL||""},this.$heroImg=null,this.screenSize=null,this.heroImageBackgrounUrl="",this.heroImageOffset=""}n.FocalPoint=i,i.prototype.init=function(){this.$heroImg=e(".hero-image, .livehero__image"),this.screenSize=t.responsive.getMainSize(),this._pictureTimestamp=null,this._setLiveHero()},i.prototype.getObservable=function(){return this.options.observable},i.prototype._setLiveHero=function(){var t=this;if(this.screenSize==="mobile"&&e(".livehero__image").length===0)return;this._setHeroImage(this.options.liveHeroData||{});if(this.options.pictureAjaxURL){var n=setInterval(function(){t._requestPicture(t._pictureTimestamp||"")},6e4);e.subscribe("terminate-live-feed",function(){clearInterval(n)})}},i.prototype._requestPicture=function(t){e.ajax({type:"GET",url:this.options.pictureAjaxURL+t,dataType:"json",success:r.bind(this._setHeroImage,this),error:r.bind(this._requestPictureError,this)})},i.prototype._setHeroImage=function(t){var n=this,r=e(".hero-image, .livehero__image"),i=null;if(t.url&&this.$heroImg.css("background-image").indexOf(t.url)<0){switch(this.screenSize){case"desktop":i=1600;break;case"tablet":i=1300;break;case"mobile":i=600}i&&(t.url=t.url.indexOf("?")!==-1?t.url+("&w="+i):t.url+("?w="+i));var s=t.url.indexOf("http")===-1?n.options.pictureBaseURL+t.url:t.url;n._pictureTimestamp=t.timestamp;var o=new Image;if(document.location.host==="localhost"){var u=document.createElement("a");u.href=s;var a=u.host.indexOf("int.");a!==-1&&(u.host=u.host.slice(0,a)+u.host.slice(a+4),s=u.href),console.log("img url is ",s)}o.onload=function(){var e=1;o.width===i&&(e=i/(t.pictureWidth>0?t.pictureWidth:1600)),n.heroImageBackgrounUrl="url('"+s+"')",n.heroImageBackgrounUrl.toLowerCase()!==r.css("backgroundImage").toLowerCase()&&n._applyFocalPoint(r,t.focalpointx*e,t.focalpointy*e,o.width,o.height)},o.src=s}},i.prototype._applyFocalPoint=function(e,t,n,i,s){var o="center center";if(r.isNumber(n)&&n>=0){var u=parseInt(e.height(),10),a=parseInt(e.width(),10),f=u/s,l=a/i;f>l?(i*=f,s*=f,n*=f):(i*=l,s*=l,n*=l);if(u<=s&&n<=s){var c=u/3-n;c>0?c=0:c<0&&c+s<u&&(c=u-s);if(c<=0){var h=s-u,p=0;h>0?p=Math.abs(c)*100/h:n>s/2&&(p=100),o="center "+Math.round(p)+"%"}}}this.heroImageOffset=o,e.css({opacity:"0.15","background-position":this.heroImageOffset,"background-image":this.heroImageBackgrounUrl}),e.fadeTo(800,1)},i.prototype._requestPictureError=function(e){};var s={init:function(){var t=e(".es-focal-point-data").data("es-focal-point"),r;if(t){var i=e("#live-hero, #live-hero-tennis, .livehero__image");i.length>0&&(r=new n.FocalPoint(t),r.init())}}},o={init:function(){s.init()}};return o}),define("modules/live/sport-football.bis",["modules/live/components/live.FootballMatch","modules/live/components/live.TeamComposition","modules/live/components/live.TeamStats_bis","modules/live/components/live.FocalPoint"],function(e,t,n,r){"use strict";return{init:function(){r.init(),e.init(),t.init(),n.init()}}}),define("modules/live/live.bis",["jquery-full","modules/live/components/utils/adria","modules/live/components/live.adria","modules/live/components/live.scroll.bis","modules/live/components/live.subnavigationmenu.bis","modules/live/sport-football.bis"],function(e,t,n,r,i,s){"use strict";n.init(),r.init(),i.init();var o=e(".es-adria-observer-data"),u=o.data("sport-category");u!==undefined&&(u=u.toLowerCase());switch(u){case"team":s.init();break;default:}}),define("modules/live/components/live.LiveEventHeader",["modules/live/components/live.FocalPoint"],function(e){"use strict";e.init()}),define("modules/calendar-by-day/dropdown-filters",["jquery-full"],function(e){"use strict";var t={options:{},state:{_ddChosenItems:{},_selectedItems:[]},getOptions:function(t){var n={_dropdown:e(t.selector),_calendarNoDataMessage:e(t.calendarNoDataMessage||""),_enableParentHighlight:t.enableParentHighlight||!1,_eventName:t.eventName||"filter-dropdown:filter-content"};return n._ul=n._dropdown.find(".dropdown-block-list"),n},init:function(e){this.options=this.getOptions(e),this.initEvents()},reflow:function(){this.initEvents()},initEvents:function(){this.options._ul.off().on("click",function(n){var r=e(n.target).closest("li");r.length&&t.onItemClick(e(r))})},onItemClick:function(t){var n=t.parent(),r=t.data("id"),i=n.data("filter-name").toLowerCase();this.saveItemAndHighlight(i,r,t),e.publish(this.options._eventName,this.state._selectedItems)},saveItemAndHighlight:function(e,t,n){var r=this.state._ddChosenItems,i=[];r.hasOwnProperty(e)||(r[e]=[]),r[e]=[],t!=0&&r[e].push(t);for(var s in r){if(!r.hasOwnProperty(s))continue;i=i.concat(r[s])}this.state._selectedItems=i}};t.init({selector:".dropdowns-multiple .dropdown-block",calendarNoDataMessage:"#noEventsInfoMsg",enableParentHighlight:!0});var n={reflow:function(){t.reflow()},init:function(){t.init({selector:".dropdowns-multiple .dropdown-block",calendarNoDataMessage:"#noEventsInfoMsg",enableParentHighlight:!0})}};return n}),define("modules/calendar-by-day/tournament.filter",["jquery-full","underscore"],function(e,t){"use strict";function n(t){this.contentToFilter=e(t.contentToFilter),this.hideEmptyMonth=t.hideEmptyMonth,this.monthEl=e(t.monthCssPath),this.cssActive=t.cssActive||"table-generic__row--active",this.cssHidden=t.cssHidden||"table-generic__row--hidden"}n.prototype.filter=function(n){var r=this.contentToFilter,i=this,s=[].slice.call(arguments,1),o=s.length;r.removeClass(i.cssActive).addClass(i.cssHidden),r.each(function(n,r){var u=e(r).data(),a=t.values(u);t.intersection(a,s).length===o&&e(r).removeClass(i.cssHidden).addClass(i.cssActive)}),this.hideEmptyMonth&&this._hideMonth()},n.prototype._hideMonth=function(){var t=this.cssHidden,n=this.cssActive;this.monthEl.removeClass(n).addClass(t),this.monthEl.each(function(r,i){e(i).nextUntil(".table-generic__row--month").is(":visible")&&e(i).removeClass(t).addClass(n)})};var r={init:function(){var r=new n({contentToFilter:".calendar_by_day_v8_5 .table-generic__row:not(.table-generic__row--month), 								.live_match_multiplex_v8_5 .table-generic__row:not(.table-generic__row--month)",hideEmptyMonth:!0,monthCssPath:".calendar_by_day_v8_5 .table-generic__row--month, 							   .live_match_multiplex_v8_5 .table-generic__row--month"});e.subscribe("filter-dropdown:filter-content",t.bind(r.filter,r))}};return r.init(),{init:function(){r.init()}}}),define("modules/multiplex/multiplex",["jquery-full","helpers/helpers","modules/calendar-by-day/dropdown-filters","modules/calendar-by-day/tournament.filter"],function(e,t,n,r){"use strict";var i={$multiplexZones:null,dropdownAjaxStorage:{},initElements:function(){this.$multiplexZones=e(".live_match_multiplex_v8_5")},run:function(){this.initElements(),this.$multiplexZones.length>0&&this.$multiplexZones.each(function(e,n){var r={navId:"standings-season-dropdown",zoneId:n.className};if(!i.dropdownAjaxStorage.hasOwnProperty(n.className)){var s=new t.dropdownAjax;i.dropdownAjaxStorage[n.className]=s.init(r)}else i.dropdownAjaxStorage[n.className].reflow()})}};i.run(),e.subscribe("subnavigation.tabInit:MultiplexResults",function(){i.$multiplexZones.each(function(e,t){delete i.dropdownAjaxStorage[t.className]}),i.run(),n.init(),r.init()});var s={reflow:function(){i.run()}};return s}),define("modules/live/live-comments",["jquery-full","base/base","helpers/helpers"],function(e,t,n){"use strict";var r={$container:null,window:null,$content:null,$comment:null,$defaultFeed:null,$pinFeed:null,$refresh:null,$reload:null,$timer:null},i={init:{dailymotion:!1,flickr:!1,google:!1,instragram:!1,nhlvideos:!1,pinterest:!1,soundcloud:!1,spotify:!1,vimeo:!1,vine:!1,yahooscreen:!1,youtube:!1},script:{dailymotion:null,flickr:null,google:"//apis.google.com/js/plusone.js",instagram:null,nhlvideos:null,pinterest:"//assets.pinterest.com/js/pinit.js",soundcloud:null,spotify:null,vimeo:null,vine:"//platform.vine.co/static/scripts/embed.js",yahooscreen:null,youtube:null}},s={hashtag:{active:!1,container:null,elements:null,list:null,nav:null,remove:null,selected:null,status:"off"},highlight:{active:!1,button:null,comments:null,container:null,status:"off"},match:{active:!1,container:null,dropdown:null,id:null,status:"off"}},o={ajaxUrl:null,countNewComment:0,degree:45,maxTimestamp:"",timer:30,timerInterval:null},u={init:function(){r.$container=e(".live_comments_v8_5, .live_comments_v8_5_bis");var t=this;if(r.$container.length>0){u.initElement(),r.$content.length>0&&(u.initializeOptions(),u.initializeEvents(),u.initializeFilters(),u.initializeRelated()),e.getScript("http://platform.twitter.com/widgets.js");var i=r.$container.find("[data-interchange]");setTimeout(function(){n.imgInterchange.reflowIn(r.$container),n.isgInterchange.reflowIn(r.$container),n.lazyload.reflowIn(r.$container)},1e3)}},initElement:function(){r.window=t.elements.getWindow(),r.$content=r.$container.find(".livecomments-content"),r.$comment=r.$container.find(".livecomments-comment"),r.$refresh=r.$container.find(".livecomments-refresh"),r.$reload=r.$container.find(".livecomments-reload"),r.$timer=r.$container.find(".livecomments-timer"),r.$defaultFeed=r.$container.find(".livecomments-default-feed"),r.$pinFeed=r.$container.find(".livecomments-pin-feed")},initializeOptions:function(){o.ajaxUrl=r.$content.attr("data-ajax-url")},initializeEvents:function(){var e=this;this.attachScroll(),this.attachTimer(),r.$refresh.on("click",function(){u.ajaxManager()})},refreshHighlight:function(){r.$content.find(".livecomments-comment[data-highlight='1']").length>0?(s.highlight.container.removeClass("disable"),s.highlight.status="on"):(s.highlight.container.addClass("disable"),s.highlight.status="off")},refreshMatches:function(){r.$container.find(".livecomments-comment:not([data-match-id='-1'])").length>0?(s.match.container.removeClass("disable"),s.match.status="on"):(s.match.container.addClass("disable"),s.match.status="off")},refreshHashtag:function(){r.$container.find(".hashtag-element").length>0?(s.hashtag.container.removeClass("disable"),s.hashtag.status="on"):(s.hashtag.container.addClass("disable"),s.hashtag.status="off")},refreshDropdown:function(){var t=s.match.dropdown.find("li:not([data-id='-1'])"),n=r.$defaultFeed.find(".livecomments-match");t.each(function(t,r){n.filter("[data-id="+e(r).attr("data-id")+"]").length<1&&e(r).remove()}),n.each(function(n,r){t.filter("[data-id="+e(r).attr("data-id")+"]").length<1&&s.match.dropdown.find("ul").append("<li data-id="+e(r).attr("data-id")+">"+e(r).attr("data-title")+"</li>")})},initializeFilters:function(){var t=this;s.highlight.button=r.$container.find(".livecomments-filter-highlight span:first-child"),s.highlight.comments=r.$container.find(".livecomments-comment[data-highlight='1']"),s.highlight.container=r.$container.find(".livecomments-filter-highlight"),s.highlight.button.on("click",function(e){u.filterByHighlight()}),u.refreshHighlight(),s.match.container=r.$container.find(".livecomments-filter-match"),s.match.dropdown=r.$container.find(".livecomments-filter-match .custom-dropdown"),s.match.dropdown.on("change",function(e,t){var n=t.selected,r=n.attr("data-id");u.filterByMatch(r)}),u.refreshMatches(),s.hashtag.container=r.$container.find(".livecomments-filter-hashtag"),s.hashtag.elements=r.$container.find(".hashtag-element"),s.hashtag.list=r.$container.find(".livecomments-filter-hashtag-list"),s.hashtag.nav=r.$container.find(".livecomments-nav"),s.hashtag.remove=r.$container.find(".livecomments-nav-remove"),r.$container.on("click",".hashtag-element",function(){u.filterByHashtag(e(this))}),s.hashtag.remove.on("click",function(){var e=r.$content.find(".livecomments-comment"),t=r.$content.find('.livecomments-comment[data-hashtags*="'+s.hashtag.selected+'"]');t.removeClass("show"),r.$content.removeClass("active-hashtag"),s.hashtag.nav.css("display","none"),s.hashtag.active=!1,s.hashtag.selected=null,u.attachScroll(),s.hashtag.nav.css("display","none"),u.refreshHighlight(),u.refreshMatches()}),u.refreshHashtag()},initializeRelated:function(){var t=this,i=r.$container.find(".livecomments-comment");if(!!i&&i.length>0){var s=i.find("[data-interchange]");e(".live_match_nav_v8_5 a.live").on("click",function(){(!e(this).hasClass("loaded")||!e(this).hasClass("active"))&&(function(){n.imgInterchange.reflowIn(i),n.isgInterchange.reflowIn(i),n.lazyload.reflowIn(i)}.delay(1e3),e(this).addClass("loaded"))})}},ajaxManager:function(){var t=this;u.getComments(),u.getMaxTimestamp(),u.detachTimer(),o.degree+=180,r.$reload.css({"-webkit-transform":"rotate("+o.degree+"deg)","-moz-transform":"rotate("+o.degree+"deg)","-ms-transform":"rotate("+o.degree+"deg)","-o-transform":"rotate("+o.degree+"deg)",transform:"rotate("+o.degree+"deg)"}),e.ajax({dataType:"html",beforeSend:function(e,t){t.url=o.ajaxUrl,t.url+=o.ajaxUrl.indexOf("?")==-1?"?":"&",t.url+="timestamp="+o.maxTimestamp,console.log(t.url)}}).done(function(t){var i=e(t).find(".livecomments-comment"),a=e(t).find(".livecomments-hashtag"),f=e(t).find(".livecomments-match"),l=[],c=[],h=null,p=null,d=null,v=null,m=null;a.length>0&&s.hashtag.list.empty().append(a),f.each(function(t,n){console.log(n);var i=e(n).attr("data-id"),s=r.$content.find(".livecomments-match[data-id='"+i+"']");s.length>0&&e(n).replaceAll(e(s))}),i.each(function(t,i){var s=e(i).attr("data-pin")==1?!0:!1,u=e(i).clone();e(i).attr("data-deleted")=="true"?r.$content.find(".livecomments-comment[data-id='"+e(i).attr("data-id")+"']").remove():r.$content.find(".livecomments-comment[data-id='"+e(i).attr("data-id")+"']").length>0?(s&&r.$pinFeed.find(".livecomments-comment[data-id='"+e(i).attr("data-id")+"']").length>0?r.$pinFeed.find(".livecomments-comment[data-id='"+e(i).attr("data-id")+"']").replaceWith(u):s&&r.$pinFeed.find(".livecomments-comment[data-id='"+e(i).attr("data-id")+"']").length<1?r.$pinFeed.find(".livecomments-comment").length<3&&r.$pinFeed.prepend(u):!s&&r.$pinFeed.find(".livecomments-comment[data-id='"+e(i).attr("data-id")+"']").length>0&&r.$pinFeed.find(".livecomments-comment[data-id='"+e(i).attr("data-id")+"']").remove(),r.$defaultFeed.find(".livecomments-comment[data-id='"+e(i).attr("data-id")+"']").hasClass("scale")&&e(i).addClass("scale"),r.$defaultFeed.find(".livecomments-comment[data-id='"+e(i).attr("data-id")+"']").replaceWith(i)):(e(u).addClass("new"),e(i).addClass("new"),s&&(r.$pinFeed.find(".livecomments-comment").length==3&&r.$pinFeed.find(".livecomments-comment:last-child").remove(),r.$pinFeed.prepend(u)),r.$defaultFeed.prepend(e(i)),function(){e(u).removeClass("new"),e(i).removeClass("new")}.delay(5e3),o.countNewComment+=1);var a=e(i).add(u);n.imgInterchange.reflowIn(a),n.isgInterchange.reflowIn(a),n.lazyload.reflowIn(a)});var g=i.find("[class^='icon-font']");g.length>0&&g.each(function(t,n){e(n).empty()}),u.refreshHighlight(),u.refreshMatches(),u.refreshDropdown(),u.refreshHashtag(),s.highlight.active?(s.highlight.active=!1,u.filterByHighlight()):s.match.active?u.filterByMatch(s.match.id):s.hashtag.active&&u.filterByHashtag(s.hashtag.selected),u.attachTimer()})},attachScroll:function(){var e=this;r.window.on("scroll.live",function(e){u.callbackScroll()})},attachTimer:function(){var e=this;o.timer=31,o.timerInterval=setInterval(function(){u.timerManager()},1e3)},callbackScroll:function(){var e=this,t=r.$content.height(),i=r.window.height(),s=r.$content.offset().top,o=r.window.scrollTop();if(s+t-i<o+i){var a=r.$content.find(".scale").filter(function(e){return e<=10}),f=[],l=[],c=[];if(a.length==0)return u.detachScroll(),r.$content.removeClass("loading"),!1;u.detachScroll(),r.$content.addClass("loading"),a.removeClass("scale"),n.imgInterchange.reflowIn(a),n.isgInterchange.reflowIn(a),n.lazyload.reflowIn(a),u.attachScroll()}},detachScroll:function(){r.window.off("scroll.live")},detachTimer:function(){clearInterval(o.timerInterval)},findEmbeds:function(t){var r=this,i=e(t),s=[],o=[];n.imgInterchange.reflowIn(i),n.isgInterchange.reflowIn(i),n.lazyload.reflowIn(i)},filterByHashtag:function(t){var n=this,i=e(t).attr("data-hashtag"),o,a;s.highlight.active||(o=r.$content.find(".livecomments-comment"),a=r.$content.find('.livecomments-comment[data-hashtags*="'+i+'"]'),!a||(u.findEmbeds(a),u.detachScroll(),o.removeClass("show"),a.addClass("show"),r.$content.addClass("active-hashtag"),s.hashtag.active=!0,s.hashtag.selected=t,s.hashtag.nav.find(".livecomments-nav-hashtag").html("#"+i),s.hashtag.nav.css("display","block"),s.highlight.active&&s.highlight.button.trigger("tap"),s.highlight.container.addClass("disable"),s.highlight.status="off",s.match.container.addClass("disable"),s.match.status="off"))},filterByHighlight:function(){var e=this,t=r.$content.find(".livecomments-comment[data-highlight='1']");!s.highlight.active&&t.length>0?!t||(u.findEmbeds(t),r.$content.addClass("active-highlight"),s.highlight.active=!0,s.highlight.status="on",u.detachScroll(),s.highlight.button.addClass("active"),s.match.container.addClass("disable"),s.match.status="off",s.hashtag.container.addClass("disable"),s.hashtag.status="off"):(r.$content.removeClass("active-highlight"),s.highlight.active=!1,u.attachScroll(),s.highlight.button.removeClass("active"),u.refreshMatches(),u.refreshHashtag())},filterByMatch:function(e){var t=this,n=r.$content.find(".livecomments-comment"),i=r.$content.find('.livecomments-comment[data-match-id="'+e+'"]');e==-1||i.length<1?e!=-1?s.match.dropdown.find("[data-id='-1']").trigger("tap"):(i.removeClass("show"),r.$content.removeClass("active-match"),s.match.active=!1,s.match.id=null,u.attachScroll(),u.refreshHighlight(),u.refreshHashtag()):(u.findEmbeds(i),n.removeClass("show"),i.addClass("show"),r.$content.addClass("active-match"),s.match.active=!0,s.match.id=e,u.detachScroll(),s.highlight.container.addClass("disable"),s.highlight.status="off",s.hashtag.container.addClass("disable"),s.hashtag.status="off")},getComments:function(){r.$comment=r.$container.find(".livecomments-comment")},getNbNewComments:function(t){r.$bubbleComment=e(".live-nb-new-comments"),t?o.countNewComment==0?r.$bubbleComment.html(""):r.$bubbleComment.html(o.countNewComment):(r.$bubbleComment.html(""),o.countNewComment=0)},getMaxTimestamp:function(){var t=this,n=null;r.$comment.each(function(t,r){n=e(r).attr("data-timestamp"),o.maxTimestamp<n&&(o.maxTimestamp=n)})},refreshEmbeds:function(t){var n=this;e(t).each(function(t,r){var i=e(r).find(".livecomments-embed"),s=e(r).attr("data-type"),o=i.attr("data-url");n.on("init."+s,function(){s=="GooglePlus"?(i.addClass("g-post").attr("data-href",o),gapi.post.go()):s=="Pinterest"?i.attr("href",o):i.attr("src",o)})})},timerManager:function(){var e=this,t=r.$refresh.find(".livecomments-timer");o.timer--,o.timer<0?e.ajaxManager():t.text(o.timer)}};u.init()}),define("modules/live/live-match-summary",["jquery-full","base/base","objects/objects"],function(e,t,n){var r={init:function(){this.initElements()},initElements:function(){$summaryContent=e(".live_summary-content"),$timeline=e(".live-summary__timeline"),$loader=new n.loader,$timelineUrl=$summaryContent.data("ajax-url")},initAjaxSummary:function(){e.ajax({type:"GET",url:$timelineUrl,dataType:"html",beforeSend:function(){$timeline.is(":visible")?$loader.append($timeline,!0):$loader.append($timeline,!0)},success:function(e){$loader.detach(!1)}}).done(function(t){$summaryFreshContent=e(t).children(),$timeline.append($summaryFreshContent)})}};r.init()}),define("modules/live/live-preview",["jquery-full","base/base","libs/add-this-event"],function(e,t,n){var r={elems:{container:null},countdown:{container:null,clock:null,message:null},quickpoll:{buttons:null,circleWhiteLabel:null,circleWhiteTotal:null,container:null,labelVote:null,labelVotes:null,matchId:null,modeCookie:null,pieChart:{container:null,c1r:null,c1l:null,c2r:null,c2l:null},entity1:{container:null,percent:null,value:null,valueElement:null},entity2:{container:null,percent:null,value:null,valueElement:null},totalVotes:null},options:{},init:function(){this.elems.container=e(".live_match_preview_v8_5"),this.elems.containerReview=e(".live_match_review_v8_5");var t=this;if(this.elems.container.length>0||this.elems.containerReview.length>0)this.initElements(),this.initCountdown(),this.initQuickpoll()},initElements:function(){this.countdown.container=this.elems.container.find(".live-match-preview__countdown"),this.quickpoll.container=this.elems.container.find(".live-match-preview__quickpoll")},initCountdown:function(){var e=this;if(!!this.countdown.container&&this.countdown.container.length>0){this.countdown.clock=this.countdown.container.find(".live-match-preview__countdown-clock"),this.countdown.message=this.countdown.container.find(".live-match-preview__countdown-message");if(!!this.countdown.clock&&this.countdown.clock.length>0){var t=(new Date).getTime(),r=this.countdown.container.attr("data-unixtime"),i=(r-t)/1e3;this.countdown.clock.FlipClock(i,{clockFace:"DailyCounter",countdown:!0,showSeconds:!1,callbacks:{start:function(){e.countdown.clock.find(".days span").html(e.countdown.container.attr("data-label-days")),e.countdown.clock.find(".hours span").html(e.countdown.container.attr("data-label-hours")),e.countdown.clock.find(".minutes span").html(e.countdown.container.attr("data-label-minutes"))},stop:function(){e.countdown.container.fadeOut()}}})}n.settings({license:"a7g7i5x4pz1456kitmkp"})}},initQuickpoll:function(){var t=this;if(!!this.quickpoll.container&&this.quickpoll.container.length>0){this.quickpoll.buttons=this.quickpoll.container.find(".live-match-preview__quickpoll-button"),this.quickpoll.circleWhiteTotal=this.quickpoll.container.find(".live-match-preview__quickpoll-circle-white span:first-child"),this.quickpoll.circleWhiteLabel=this.quickpoll.container.find(".live-match-preview__quickpoll-circle-white span:last-child"),this.quickpoll.matchId=this.quickpoll.container.attr("data-match-id"),this.quickpoll.labelVote=this.quickpoll.container.attr("data-label-vote"),this.quickpoll.labelVotes=this.quickpoll.container.attr("data-label-votes"),this.quickpoll.totalVotes=parseInt(this.quickpoll.container.attr("data-total-votes"))||0,this.quickpoll.entity1.container=this.quickpoll.container.find(".live-match-preview__quickpoll-wrapper > div:first-child"),this.quickpoll.entity1.value=parseInt(this.quickpoll.entity1.container.find(".live-match-preview__quickpoll-value").attr("data-votes"))||0,this.quickpoll.entity1.valueElement=this.quickpoll.entity1.container.find(".live-match-preview__quickpoll-value span:first-child"),this.quickpoll.entity2.container=this.quickpoll.container.find(".live-match-preview__quickpoll-wrapper > div:last-child"),this.quickpoll.entity2.value=parseInt(this.quickpoll.entity2.container.find(".live-match-preview__quickpoll-value").attr("data-votes"))||0,this.quickpoll.entity2.valueElement=this.quickpoll.entity2.container.find(".live-match-preview__quickpoll-value span:first-child"),this.quickpoll.buttons.on("click",function(n){var r=e(this).attr("data-entity-id"),i=e(this).attr("data-entity-num"),s=e(this).attr("data-entity-type");t.quickpoll.modeCookie||(t.quickpoll.totalVotes++,i==1?t.quickpoll.entity1.value++:t.quickpoll.entity2.value++,e.cookie("quickpoll_match"+t.quickpoll.matchId,r,{expires:360}),t.saveVote(t.quickpoll.matchId,r,s)),t.userVote(),t.offTap(),t.quickpoll.totalVotes>1&&t.quickpoll.circleWhiteLabel.empty().html(t.quickpoll.labelVotes),e(this).addClass("active")});if(!e.cookie("quickpoll_match"+this.quickpoll.matchId))this.quickpoll.modeCookie=!1,this.userVote();else{this.quickpoll.modeCookie=!0;var n=e.cookie("quickpoll_match"+this.quickpoll.matchId);this.quickpoll.buttons.filter("[data-entity-id='"+n+"']").trigger("click")}}},initRelated:function(){var e=this},offTap:function(){this.quickpoll.buttons.each(function(t,n){e(this).off("click"),e(this).addClass("disable")})},userVote:function(){this.quickpoll.entity1.percent=Math.floor(this.quickpoll.entity1.value/this.quickpoll.totalVotes*100),this.quickpoll.entity2.percent=Math.floor(this.quickpoll.entity2.value/this.quickpoll.totalVotes*100),this.quickpoll.circleWhiteTotal.empty().html(this.quickpoll.totalVotes),this.quickpoll.totalVotes==0?(this.quickpoll.entity1.percent=0,this.quickpoll.entity2.percent=0):this.quickpoll.entity1.percent+this.quickpoll.entity2.percent<100?this.quickpoll.entity2.percent++:this.quickpoll.entity1.percent+this.quickpoll.entity2.percent>100&&this.quickpoll.entity2.percent--,this.quickpoll.entity1.valueElement.empty().html(this.quickpoll.entity1.percent),this.quickpoll.entity2.valueElement.empty().html(this.quickpoll.entity2.percent),this.quickpoll.pieChart.container=this.quickpoll.container.find("#pie_chart"),this.quickpoll.pieChart.c1r=this.quickpoll.pieChart.container.find("#c1_r p"),this.quickpoll.pieChart.c1l=this.quickpoll.pieChart.container.find("#c1_l p"),this.quickpoll.pieChart.c2r=this.quickpoll.pieChart.container.find("#c2_r p"),this.quickpoll.pieChart.c2l=this.quickpoll.pieChart.container.find("#c2_l p");if(this.quickpoll.entity1.percent>this.quickpoll.entity2.percent){this.quickpoll.pieChart.c1r.css({transform:"rotate(180deg)",MozTransform:"rotate(180deg)",WebkitTransform:"rotate(180deg)",msTransform:"rotate(180deg)"});var e=180-1.8*(this.quickpoll.entity1.percent-50)*2;this.quickpoll.pieChart.c2r.css({transform:"rotate("+e+"deg)",MozTransform:"rotate("+e+"deg)",WebkitTransform:"rotate("+e+"deg)",msTransform:"rotate("+e+"deg)"})}else if(this.quickpoll.entity1.percent<this.quickpoll.entity2.percent){var e=1.8*(this.quickpoll.entity2.percent-50)*2;this.quickpoll.pieChart.c2l.css({transform:"rotate("+e+"deg)",MozTransform:"rotate("+e+"deg)",WebkitTransform:"rotate("+e+"deg)",msTransform:"rotate("+e+"deg)"})}else this.quickpoll.pieChart.c1r.css({transform:"rotate(180deg)",MozTransform:"rotate(180deg)",WebkitTransform:"rotate(180deg)",msTransform:"rotate(180deg)"}),this.quickpoll.pieChart.c2r.css({transform:"rotate(180deg)",MozTransform:"rotate(180deg)",WebkitTransform:"rotate(180deg)",msTransform:"rotate(180deg)"}),this.quickpoll.pieChart.c2l.css({transform:"rotate(0deg)",MozTransform:"rotate(0deg)",WebkitTransform:"rotate(0deg)",msTransform:"rotate(0deg)"})},saveVote:function(n,r,i){e.ajax({url:t.storage.links.get("wsQuickpoll")+"AddAnonymousEntityVote",data:{contextEntityId:n,contextEntityType:"Match",entityVotedId:r,entityVotedType:i},dataType:"xml",type:"POST"})}};r.init()}),define("modules/live/live-promo",["jquery-full","base/base","objects/objects","helpers/helpers"],function(e,t,n,r){var i=t.elements.getDocument(),s=e(),o={init:function(){if(t.responsive.getMainSize()=="mobile")return;if(!this.initElements())return;var o=this.buildLivePromoPlayerNotif();i.one("scroll",function(){var t=s.data("notif-description"),i=s.data("notif-url");new n.notification({element:o,duration:7e5,borderColor:"player"});var u=e("<a>",{"class":"promotion-player__description",href:i,target:"_blank",text:t});u.insertBefore(o),r.imgInterchange.reflowIn(o),r.isgInterchange.reflowIn(o)})},initElements:function(){return s=e(".live-promotion-player.show"),s.length<=0||!s.hasClass("show")?!1:!0},buildLivePromoPlayerNotif:function(){var e=s.find("a"),t=e.clone();return t.find(".wrapper-interchange").removeClass("lazyload").addClass("lazyload-ok"),t}};o.init()}),define("live.bis",function(){});